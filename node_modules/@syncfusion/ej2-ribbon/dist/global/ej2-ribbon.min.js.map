{"version":3,"file":"ej2-ribbon.min.js","sources":["../../src/ribbon/base/utils.js","../../src/ribbon/base/interface.js","../../src/ribbon/models/ribbon-button-settings.js","../../src/ribbon/models/ribbon-checkbox-settings.js","../../src/ribbon/models/ribbon-colorpicker-settings.js","../../src/ribbon/models/ribbon-combobox-settings.js","../../src/ribbon/models/ribbon-dropdown-settings.js","../../src/ribbon/models/ribbon-splitbutton-settings.js","../../src/ribbon/models/ribbon-tooltip.js","../../src/ribbon/models/ribbon-item.js","../../src/ribbon/models/ribbon-collection.js","../../src/ribbon/models/ribbon-group.js","../../src/ribbon/models/ribbon-tab.js","../../src/ribbon/models/ribbon-file-menu-settings.js","../../src/ribbon/base/constant.js","../../src/ribbon/items/ribbon-button.js","../../src/ribbon/items/ribbon-checkbox.js","../../src/ribbon/items/ribbon-colorpicker.js","../../src/ribbon/items/ribbon-combobox.js","../../src/ribbon/items/ribbon-dropdown.js","../../src/ribbon/items/ribbon-splitbutton.js","../../src/ribbon/base/ribbon.js","../../src/ribbon/modules/ribbon-filemenu.js","../../src/global.js"],"sourcesContent":["import { compile, getComponent, select } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DisplayMode, RibbonLayout } from './interface';\nimport * as constants from './constant';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\n/**\n * Gets index value.\n *\n * @param {Array} arr - Gets the array to find index.\n * @param {boolean} condition - Defines whether index matches with the value.\n * @returns {number} - Gets the index value.\n * @hidden\n */\nexport function getIndex(arr, condition) {\n    for (var i = 0; i < arr.length; i++) {\n        if (condition(arr[parseInt(i.toString(), 10)], i)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Gets template content based on the template property value.\n *\n * @param {string | HTMLElement| Function} template - Template property value.\n * @returns {Function} - Return template function.\n * @hidden\n */\nexport function getTemplateFunction(template) {\n    if (typeof template === 'string') {\n        var content = '';\n        try {\n            var tempEle = select(template);\n            if (tempEle) {\n                //Return innerHTML incase of jsrenderer script else outerHTML\n                content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n            }\n            else {\n                content = template;\n            }\n        }\n        catch (e) {\n            content = template;\n        }\n        return compile(content);\n    }\n    else {\n        /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n        return compile(template);\n    }\n}\n/**\n * Gets the ribbon item\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon item.\n * @hidden\n */\nexport function getItem(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            for (var k = 0; k < group.collections.length; k++) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                for (var l = 0; l < collection.items.length; l++) {\n                    var item = collection.items[parseInt(l.toString(), 10)];\n                    if (item.id === id) {\n                        return {\n                            item: item, collection: collection, group: group,\n                            tabIndex: i, groupIndex: j, collectionIndex: k, itemIndex: l\n                        };\n                    }\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n * Gets the ribbon collection.\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon collection.\n * @hidden\n */\nexport function getCollection(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            for (var k = 0; k < group.collections.length; k++) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                if (collection.id === id) {\n                    return {\n                        collection: collection, group: group,\n                        tabIndex: i, groupIndex: j, collectionIndex: k\n                    };\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n * Gets the ribbon group.\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon group.\n * @hidden\n */\nexport function getGroup(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            if (group.id === id) {\n                return {\n                    group: group, tabIndex: i, groupIndex: j\n                };\n            }\n        }\n    }\n    return null;\n}\n/**\n * @param {HTMLElement} element - Gets the element to be destroyed.\n * @param {string} moduleName - Gets the module name.\n * @returns {void}\n * @hidden\n */\nexport function destroyControl(element, moduleName) {\n    var control = getComponent(element, moduleName);\n    control.destroy();\n}\n/**\n * Updates common properties.\n *\n * @param {HTMLElement} element - Gets the element to be updated.\n * @param {string} moduleName - Gets the module name.\n * @param {commonProperties} commonProp - Gets the common properties to be updated.\n * @returns {void}\n * @hidden\n */\nexport function updateCommonProperty(element, moduleName, commonProp) {\n    var control = getComponent(element, moduleName);\n    control.setProperties(commonProp);\n}\n/**\n * Updates disabled control.\n *\n * @param {HTMLElement} element - Gets the element to be disabled.\n * @param {string} moduleName - Gets the module name.\n * @param {boolean} disable - Defines whether the control to be disabled or not.\n * @returns {void}\n * @hidden\n */\nexport function updateControlDisabled(element, moduleName, disable) {\n    var control = getComponent(element, moduleName);\n    control.setProperties(moduleName === 'combobox' ? { enabled: !disable } : { disabled: disable });\n}\n/**\n * Gets the ribbon item element.\n *\n * @param {Ribbon} parent - Gets the parent element.\n * @param {string} id - Gets the ID of the item.\n * @param {itemProps} itemProp - Gets the ribbon item.\n * @returns {HTMLElement} - Gets the ribbon item element.\n * @hidden\n */\nexport function getItemElement(parent, id, itemProp) {\n    if (!itemProp) {\n        itemProp = getItem(parent.tabs, id);\n        if (!itemProp) {\n            return null;\n        }\n    }\n    var contentEle = parent.tabObj.items[itemProp.tabIndex].content;\n    if (contentEle.innerHTML === '') {\n        return null;\n    }\n    if (parent.activeLayout === RibbonLayout.Classic) {\n        if (itemProp.item.displayOptions & DisplayMode.Classic) {\n            contentEle = (itemProp.group.isCollapsed) ? parent.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle)\n                : contentEle;\n            return contentEle.querySelector('#' + id);\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n        var ele = (itemProp.item.displayOptions & DisplayMode.Simplified) ?\n            contentEle.querySelector('#' + itemProp.item.id) : null;\n        // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n        if (!ele) {\n            var dropdown = itemProp.group.enableGroupOverflow ?\n                getComponent(contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID), DropDownButton)\n                : parent.overflowDDB;\n            ele = dropdown.target.querySelector('#' + itemProp.item.id);\n        }\n        return ele;\n    }\n}\n/**\n * @param {RibbonTooltipModel} tooltip - Gets the property of tooltip.\n * @returns {boolean} - Gets whether the tooltip is present or not.\n * @hidden\n */\nexport function isTooltipPresent(tooltip) {\n    return (tooltip.content || tooltip.iconCss || tooltip.title || tooltip.id || tooltip.cssClass) ? true : false;\n}\n/**\n * Sets content for tooltip.\n *\n * @param {TooltipEventArgs} args - Gets the argument of tooltip.\n * @param {Tooltip} tooltip - Gets the tooltip to set the content.\n * @param {ribbonTooltipData} tooltipData - Gets the tooltip data.\n * @returns {void}\n * @hidden\n */\nexport function setToolTipContent(args, tooltip, tooltipData) {\n    var targetId = args.target.getAttribute('id');\n    var dataObj = tooltipData.filter(function (e) { return e.id === targetId; })[0];\n    var data = dataObj.data;\n    var content = tooltip.createElement('div', {\n        id: data.id ? constants.RIBBON_TOOLTIP_CONTAINER + '_' + data.id : constants.RIBBON_TOOLTIP_CONTAINER\n    });\n    tooltip.element.append(content);\n    if (data.title) {\n        var header = tooltip.createElement('div', {\n            innerHTML: data.title,\n            className: constants.RIBBON_TOOLTIP_TITLE\n        });\n        content.appendChild(header);\n    }\n    var textContainer = tooltip.createElement('div', {\n        className: constants.RIBBON_TEXT_CONTAINER\n    });\n    content.appendChild(textContainer);\n    if (data.iconCss) {\n        var customCss = tooltip.createElement('div', {\n            className: data.cssClass ? data.cssClass + ' ' + data.iconCss + ' ' + constants.RIBBON_TOOLTIP_ICON : data.iconCss + ' ' + constants.RIBBON_TOOLTIP_ICON\n        });\n        textContainer.appendChild(customCss);\n    }\n    if (data.content) {\n        var tooltipContent = tooltip.createElement('div', {\n            innerHTML: data.content,\n            className: constants.RIBBON_TOOLTIP_CONTENT\n        });\n        textContainer.appendChild(tooltipContent);\n    }\n    tooltip.setProperties({\n        content: content\n    });\n}\n/**\n * Creates tooltip.\n *\n * @param {HTMLElement} element - Gets the element to add tooltip.\n * @param {Ribbon} ribbon - Gets the ribbon.\n * @returns {void}\n * @hidden\n */\nexport function createTooltip(element, ribbon) {\n    var ribbonTooltip = new Tooltip({\n        cssClass: (constants.RIBBON_TOOLTIP + ' ' + ribbon.cssClass).trim(),\n        target: '.' + constants.RIBBON_TOOLTIP_TARGET,\n        beforeRender: beforeTooltipRender.bind(this)\n    });\n    ribbonTooltip.appendTo(element);\n    /**\n     * @param {TooltipEventArgs} args - Gets the tooltip argument.\n     * @returns {void}\n     * @hidden\n     */\n    function beforeTooltipRender(args) {\n        setToolTipContent(args, ribbonTooltip, ribbon.tooltipData);\n    }\n}\n/**\n * Destroys tooltip\n *\n * @param {HTMLElement} element - Gets the element in which the tooltip needs to be destroyed.\n * @returns {void}\n * @hidden\n */\nexport function destroyTooltip(element) {\n    var control = getComponent(element, Tooltip);\n    control.destroy();\n}\n/**\n * Updates tooltip\n *\n * @param {HTMLElement} element - Gets the element in which the tooltip needs to be Updated.\n * @param {commonProperties} prop - Gets the property to be updated.\n * @returns {void}\n * @hidden\n */\nexport function updateTooltipProp(element, prop) {\n    var control = getComponent(element, Tooltip);\n    control.setProperties(prop);\n}\n","/**\n * Defines the layout types of ribbon.\n */\nexport var RibbonLayout;\n(function (RibbonLayout) {\n    /**\n     * Displays the ribbon tab content in classic layout.\n     */\n    RibbonLayout[\"Classic\"] = \"Classic\";\n    /**\n     * Displays the ribbon tab content in simplified layout.\n     */\n    RibbonLayout[\"Simplified\"] = \"Simplified\";\n})(RibbonLayout || (RibbonLayout = {}));\n/**\n * Defines the alignment of the items in the ribbon group.\n */\nexport var ItemOrientation;\n(function (ItemOrientation) {\n    /**\n     * Displays the collection of items in rows.\n     */\n    ItemOrientation[\"Row\"] = \"Row\";\n    /**\n     * Displays the collection of items in column.\n     */\n    ItemOrientation[\"Column\"] = \"Column\";\n})(ItemOrientation || (ItemOrientation = {}));\n/**\n * Defines the current size of the ribbon item in normal mode.\n *\n * @aspNumberEnum\n */\nexport var RibbonItemSize;\n(function (RibbonItemSize) {\n    /**\n     * The item appears with large icon and text at the bottom.\n     */\n    RibbonItemSize[RibbonItemSize[\"Large\"] = 4] = \"Large\";\n    /**\n     * The item appears with small icon and text at the right.\n     */\n    RibbonItemSize[RibbonItemSize[\"Medium\"] = 2] = \"Medium\";\n    /**\n     * The item appears with small icon only.\n     */\n    RibbonItemSize[RibbonItemSize[\"Small\"] = 1] = \"Small\";\n})(RibbonItemSize || (RibbonItemSize = {}));\n/**\n * Defines how to show an item in ribbon simplified layout.\n *\n * @aspNumberEnum\n */\nexport var DisplayMode;\n(function (DisplayMode) {\n    /**\n     * The item appears in the classic layout group.\n     */\n    DisplayMode[DisplayMode[\"Classic\"] = 4] = \"Classic\";\n    /**\n     * The item appears in the simplified layout group.\n     */\n    DisplayMode[DisplayMode[\"Simplified\"] = 2] = \"Simplified\";\n    /**\n     * The item appears in overflow popup.\n     */\n    DisplayMode[DisplayMode[\"Overflow\"] = 1] = \"Overflow\";\n    /**\n      * The item appears in classic layout group, simplified layout group, and overflow popup based on ribbon overflow state.\n     */\n    DisplayMode[DisplayMode[\"Auto\"] = 7] = \"Auto\";\n})(DisplayMode || (DisplayMode = {}));\n/**\n * Defines the type of the ribbon item.\n */\nexport var RibbonItemType;\n(function (RibbonItemType) {\n    /**\n     * Renders button as ribbon item.\n     */\n    RibbonItemType[\"Button\"] = \"Button\";\n    /**\n     * Renders checkbox as ribbon item.\n     */\n    RibbonItemType[\"CheckBox\"] = \"CheckBox\";\n    /**\n     * Renders color picker as ribbon item.\n     */\n    RibbonItemType[\"ColorPicker\"] = \"ColorPicker\";\n    /**\n     * Renders combobox as ribbon item.\n     */\n    RibbonItemType[\"ComboBox\"] = \"ComboBox\";\n    /**\n     * Renders dropdownbutton as ribbon item.\n     */\n    RibbonItemType[\"DropDown\"] = \"DropDown\";\n    /**\n     * Renders splitbutton as ribbon item.\n     */\n    RibbonItemType[\"SplitButton\"] = \"SplitButton\";\n    /**\n     * Renders the template content as ribbon item.\n     */\n    RibbonItemType[\"Template\"] = \"Template\";\n})(RibbonItemType || (RibbonItemType = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon button item.\n */\nvar RibbonButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonButtonSettings, _super);\n    function RibbonButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of button.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonButtonSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonButtonSettings.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonButtonSettings.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Event()\n    ], RibbonButtonSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonButtonSettings.prototype, \"clicked\", void 0);\n    return RibbonButtonSettings;\n}(ChildProperty));\nexport { RibbonButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon checkbox item.\n */\nvar RibbonCheckBoxSettings = /** @class */ (function (_super) {\n    __extends(RibbonCheckBoxSettings, _super);\n    function RibbonCheckBoxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of checkbox.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonCheckBoxSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonCheckBoxSettings.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCheckBoxSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCheckBoxSettings.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], RibbonCheckBoxSettings.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Event()\n    ], RibbonCheckBoxSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonCheckBoxSettings.prototype, \"change\", void 0);\n    return RibbonCheckBoxSettings;\n}(ChildProperty));\nexport { RibbonCheckBoxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon color picker.\n */\nvar RibbonColorPickerSettings = /** @class */ (function (_super) {\n    __extends(RibbonColorPickerSettings, _super);\n    function RibbonColorPickerSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of colorpicker.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonColorPickerSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(10)\n    ], RibbonColorPickerSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonColorPickerSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Property('Picker')\n    ], RibbonColorPickerSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonColorPickerSettings.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonColorPickerSettings.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property('#008000ff')\n    ], RibbonColorPickerSettings.prototype, \"value\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"select\", void 0);\n    return RibbonColorPickerSettings;\n}(ChildProperty));\nexport { RibbonColorPickerSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property, Complex } from '@syncfusion/ej2-base';\nimport { FieldSettings } from '@syncfusion/ej2-dropdowns';\n/**\n * Defines the ribbon combobox item.\n */\nvar RibbonComboBoxSettings = /** @class */ (function (_super) {\n    __extends(RibbonComboBoxSettings, _super);\n    function RibbonComboBoxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of combobox.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonComboBoxSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonComboBoxSettings.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonComboBoxSettings.prototype, \"autofill\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonComboBoxSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property([])\n    ], RibbonComboBoxSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], RibbonComboBoxSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property('Contains')\n    ], RibbonComboBoxSettings.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"index\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], RibbonComboBoxSettings.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], RibbonComboBoxSettings.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], RibbonComboBoxSettings.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonComboBoxSettings.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property('None')\n    ], RibbonComboBoxSettings.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property('150px')\n    ], RibbonComboBoxSettings.prototype, \"width\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"select\", void 0);\n    return RibbonComboBoxSettings;\n}(ChildProperty));\nexport { RibbonComboBoxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Event, Property } from '@syncfusion/ej2-base';\nimport { Item } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the ribbon DropDownButton item.\n */\nvar RibbonDropDownSettings = /** @class */ (function (_super) {\n    __extends(RibbonDropDownSettings, _super);\n    function RibbonDropDownSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of DropDown.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonDropDownSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"closeActionEvents\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], RibbonDropDownSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"select\", void 0);\n    return RibbonDropDownSettings;\n}(ChildProperty));\nexport { RibbonDropDownSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Event, Property } from '@syncfusion/ej2-base';\nimport { Item } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the ribbon SplitButton item.\n */\nvar RibbonSplitButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonSplitButtonSettings, _super);\n    function RibbonSplitButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of DropDown.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonSplitButtonSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"closeActionEvents\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], RibbonSplitButtonSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"select\", void 0);\n    return RibbonSplitButtonSettings;\n}(ChildProperty));\nexport { RibbonSplitButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon tooltip.\n */\nvar RibbonTooltip = /** @class */ (function (_super) {\n    __extends(RibbonTooltip, _super);\n    function RibbonTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"title\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"iconCss\", void 0);\n    return RibbonTooltip;\n}(ChildProperty));\nexport { RibbonTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Complex, Property } from '@syncfusion/ej2-base';\nimport { RibbonItemSize, DisplayMode } from '../base/interface';\nimport { RibbonButtonSettings } from './ribbon-button-settings';\nimport { RibbonCheckBoxSettings } from './ribbon-checkbox-settings';\nimport { RibbonColorPickerSettings } from './ribbon-colorpicker-settings';\nimport { RibbonComboBoxSettings } from './ribbon-combobox-settings';\nimport { RibbonDropDownSettings } from './ribbon-dropdown-settings';\nimport { RibbonSplitButtonSettings } from './ribbon-splitbutton-settings';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon item.\n */\nvar RibbonItem = /** @class */ (function (_super) {\n    __extends(RibbonItem, _super);\n    function RibbonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of item.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonItem.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(RibbonItemSize.Medium)\n    ], RibbonItem.prototype, \"activeSize\", void 0);\n    __decorate([\n        Property(RibbonItemSize.Small | RibbonItemSize.Medium | RibbonItemSize.Large)\n    ], RibbonItem.prototype, \"allowedSizes\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonItem.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Button')\n    ], RibbonItem.prototype, \"type\", void 0);\n    __decorate([\n        Property(DisplayMode.Auto)\n    ], RibbonItem.prototype, \"displayOptions\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], RibbonItem.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonButtonSettings)\n    ], RibbonItem.prototype, \"buttonSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonDropDownSettings)\n    ], RibbonItem.prototype, \"dropDownSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonCheckBoxSettings)\n    ], RibbonItem.prototype, \"checkBoxSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonColorPickerSettings)\n    ], RibbonItem.prototype, \"colorPickerSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonComboBoxSettings)\n    ], RibbonItem.prototype, \"comboBoxSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonSplitButtonSettings)\n    ], RibbonItem.prototype, \"splitButtonSettings\", void 0);\n    return RibbonItem;\n}(ChildProperty));\nexport { RibbonItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonItem } from './ribbon-item';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonCollection = /** @class */ (function (_super) {\n    __extends(RibbonCollection, _super);\n    function RibbonCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of collection.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonCollection.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonCollection.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCollection.prototype, \"cssClass\", void 0);\n    __decorate([\n        Collection([], RibbonItem)\n    ], RibbonCollection.prototype, \"items\", void 0);\n    return RibbonCollection;\n}(ChildProperty));\nexport { RibbonCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonCollection } from './ribbon-collection';\n/**\n * Defines the ribbon group.\n */\nvar RibbonGroup = /** @class */ (function (_super) {\n    __extends(RibbonGroup, _super);\n    function RibbonGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of Group.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonGroup.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Collection([], RibbonCollection)\n    ], RibbonGroup.prototype, \"collections\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"isCollapsed\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonGroup.prototype, \"isCollapsible\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"enableGroupOverflow\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"groupIconCss\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"header\", void 0);\n    __decorate([\n        Property('Column')\n    ], RibbonGroup.prototype, \"orientation\", void 0);\n    __decorate([\n        Property(0)\n    ], RibbonGroup.prototype, \"priority\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"showLauncherIcon\", void 0);\n    return RibbonGroup;\n}(ChildProperty));\nexport { RibbonGroup };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonGroup } from './ribbon-group';\n/**\n * Defines the ribbon tab.\n */\nvar RibbonTab = /** @class */ (function (_super) {\n    __extends(RibbonTab, _super);\n    function RibbonTab() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of tab.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonTab.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Collection([], RibbonGroup)\n    ], RibbonTab.prototype, \"groups\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"header\", void 0);\n    return RibbonTab;\n}(ChildProperty));\nexport { RibbonTab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Event, Complex, Collection } from '@syncfusion/ej2-base';\nimport { MenuAnimationSettings, MenuItem } from '@syncfusion/ej2-navigations';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon file menu settings.\n */\nvar FileMenuSettings = /** @class */ (function (_super) {\n    __extends(FileMenuSettings, _super);\n    function FileMenuSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of FileMenu.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    FileMenuSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('File')\n    ], FileMenuSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(false)\n    ], FileMenuSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], FileMenuSettings.prototype, \"menuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], FileMenuSettings.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Complex({}, MenuAnimationSettings)\n    ], FileMenuSettings.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"popupTemplate\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], FileMenuSettings.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"select\", void 0);\n    return FileMenuSettings;\n}(ChildProperty));\nexport { FileMenuSettings };\n","/**\n * Specifies the File Manager internal ID's\n */\n/** @hidden */\nexport var ITEM_VERTICAL_CENTER = 'e-ribbon-vertical-center';\n/** @hidden */\nexport var EXPAND_COLLAPSE_ICON = 'e-icons e-drop-icon';\n/** @hidden */\nexport var OVERFLOW_ICON = 'e-icons e-more-horizontal-1';\n/** @hidden */\nexport var VERTICAL_DDB = 'e-vertical';\n/** @hidden */\nexport var DISABLED_CSS = 'e-disabled';\n/** @hidden */\nexport var RTL_CSS = 'e-rtl';\n/** @hidden */\nexport var RIBBON_HOVER = 'e-ribbon-hover';\n/** @hidden */\nexport var RIBBON_CONTROL = 'e-ribbon-control';\n/** @hidden */\nexport var RIBBON_POPUP_CONTROL = 'e-ribbon-popup-control';\n/** @hidden */\nexport var RIBBON_POPUP_OPEN = 'e-ribbon-open';\n/** @hidden */\nexport var SPACE = ' ';\n/** @hidden */\nexport var HORIZONTAL_SCROLLBAR = 'e-hscroll-bar';\n/** @hidden */\nexport var HIDE_CSS = 'e-ribbon-hide';\n/** @hidden */\nexport var RIBBON_TAB = 'e-ribbon-tab';\n/** @hidden */\nexport var RIBBON_TAB_ACTIVE = 'e-ribbon-active';\n/** @hidden */\nexport var RIBBON_TAB_ITEM = 'e-ribbon-tab-item';\n/** @hidden */\nexport var RIBBON_COLLAPSE_BUTTON = 'e-ribbon-collapse-btn';\n/** @hidden */\nexport var RIBBON_EXPAND_BUTTON = 'e-ribbon-expand-btn';\n/** @hidden */\nexport var RIBBON_COLLAPSIBLE = 'e-ribbon-collapsible';\n/** @hidden */\nexport var RIBBON_OVERALL_OF_BUTTON = 'e-ribbon-overall-of-btn';\n/** @hidden */\nexport var RIBBON_GROUP_OF_BUTTON = 'e-ribbon-group-of-btn';\n/** @hidden */\nexport var RIBBON_OVERFLOW_TARGET = 'e-ribbon-overflow-target';\n/** @hidden */\nexport var RIBBON_OVERFLOW = 'e-ribbon-overflow';\n/** @hidden */\nexport var TAB_CONTENT = 'e-content';\n/** @hidden */\nexport var RIBBON_MINIMIZE = 'e-ribbon-minimize';\n/** @hidden */\nexport var RIBBON_GROUP = 'e-ribbon-group';\n/** @hidden */\nexport var RIBBON_GROUP_CONTAINER = 'e-ribbon-group-container';\n/** @hidden */\nexport var RIBBON_OF_TAB_CONTAINER = 'e-ribbon-of-tab';\n/** @hidden */\nexport var RIBBON_OF_GROUP_CONTAINER = 'e-ribbon-of-group-container';\n/** @hidden */\nexport var RIBBON_GROUP_CONTENT = 'e-ribbon-group-content';\n/** @hidden */\nexport var RIBBON_GROUP_HEADER = 'e-ribbon-group-header';\n/** @hidden */\nexport var RIBBON_OVERFLOW_HEADER = 'e-ribbon-overflow-header';\n/** @hidden */\nexport var RIBBON_GROUP_OVERFLOW = 'e-ribbon-group-overflow';\n/** @hidden */\nexport var RIBBON_GROUP_OVERFLOW_DDB = 'e-ribbon-group-overflow-ddb';\n/** @hidden */\nexport var RIBBON_LAUNCHER = 'e-ribbon-launcher';\n/** @hidden */\nexport var RIBBON_LAUNCHER_ICON_ELE = 'e-ribbon-launcher-icon';\n/** @hidden */\nexport var RIBBON_LAUNCHER_ICON = 'e-icons e-launcher';\n/** @hidden */\nexport var RIBBON_COLLECTION = 'e-ribbon-collection';\n/** @hidden */\nexport var RIBBON_ITEM = 'e-ribbon-item';\n/** @hidden */\nexport var RIBBON_ROW = 'e-ribbon-row';\n/** @hidden */\nexport var RIBBON_COLUMN = 'e-ribbon-column';\n/** @hidden */\nexport var RIBBON_LARGE_ITEM = 'e-ribbon-large-item';\n/** @hidden */\nexport var RIBBON_MEDIUM_ITEM = 'e-ribbon-medium-item';\n/** @hidden */\nexport var RIBBON_SMALL_ITEM = 'e-ribbon-small-item';\n/** @hidden */\nexport var RIBBON_CONTENT_HEIGHT = 'e-ribbon-content-height';\n/** @hidden */\nexport var DROPDOWNBUTTON = 'e-dropdown-btn';\n/** @hidden */\nexport var DROPDOWNBUTTON_HIDE = 'e-caret-hide';\n/** @hidden */\nexport var RIBBON_TEMPLATE = 'e-ribbon-template';\n/** @hidden */\nexport var RIBBON_HELP_TEMPLATE = 'e-ribbon-help-template';\n/** @hidden */\nexport var RIBBON_TOOLTIP = 'e-ribbon-tooltip';\n/** @hidden */\nexport var RIBBON_TOOLTIP_TARGET = 'e-ribbon-tooltip-target';\n/** @hidden */\nexport var RIBBON_TOOLTIP_TITLE = 'e-ribbon-tooltip-title';\n/** @hidden */\nexport var RIBBON_TOOLTIP_CONTENT = 'e-ribbon-tooltip-content';\n/** @hidden */\nexport var RIBBON_TOOLTIP_ICON = 'e-ribbon-tooltip-icon';\n/** @hidden */\nexport var RIBBON_TOOLTIP_CONTAINER = 'e-ribbon-tooltip-container';\n/** @hidden */\nexport var RIBBON_TEXT_CONTAINER = 'e-ribbon-text-container';\n/** @hidden */\nexport var RIBBON_SIMPLIFIED_MODE = 'e-ribbon-simplified-mode';\n/** @hidden */\nexport var TAB_ID = '_tab';\n/** @hidden */\nexport var GROUP_ID = '_group';\n/** @hidden */\nexport var COLLECTION_ID = '_collection';\n/** @hidden */\nexport var ITEM_ID = '_item';\n/** @hidden */\nexport var COLLAPSE_BUTTON_ID = '_collapsebutton';\n/** @hidden */\nexport var OVRLOF_BUTTON_ID = '_sim_ovrl_overflow';\n/** @hidden */\nexport var GROUPOF_BUTTON_ID = '_sim_grp_overflow';\n/** @hidden */\nexport var HEADER_ID = '_header';\n/** @hidden */\nexport var LAUNCHER_ID = '_launcher';\n/** @hidden */\nexport var CONTENT_ID = '_content';\n/** @hidden */\nexport var CONTAINER_ID = '_container';\n/** @hidden */\nexport var OVERFLOW_ID = '_overflow';\n/** @hidden */\nexport var DROPDOWN_ID = '_dropdown';\n/** @hidden */\nexport var RIBBON_FILE_MENU_ID = '_filemenu';\n/** @hidden */\nexport var RIBBON_FILE_MENU_LIST = '_filemenulist';\n/** @hidden */\nexport var RIBBON_HELP_PANE_TEMPLATE_ID = '_helppanetemplate';\n/** @hidden */\nexport var RIBBON_FILE_MENU_WIDTH = '--fileMenuWidth';\n/** @hidden */\nexport var RIBBON_HELP_PANE_TEMPLATE_WIDTH = '--helpTemplateWidth';\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getItem, getItemElement, RibbonItemSize } from '../base/index';\nimport { ITEM_VERTICAL_CENTER, RIBBON_CONTROL, RIBBON_POPUP_CONTROL, SPACE } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonButton = /** @class */ (function () {\n    function RibbonButton(parent) {\n        this.parent = parent;\n    }\n    RibbonButton.prototype.getModuleName = function () {\n        return 'ribbonButton';\n    };\n    RibbonButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates button.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.createButton = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var btnSettings = item.buttonSettings;\n        new Button({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            iconCss: btnSettings.iconCss,\n            disabled: item.disabled,\n            cssClass: (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (btnSettings.cssClass ? btnSettings.cssClass : '')).trim(),\n            content: item.activeSize === RibbonItemSize.Small ? '' : btnSettings.content,\n            isPrimary: btnSettings.isPrimary,\n            isToggle: btnSettings.isToggle,\n            created: btnSettings.created\n        }, buttonEle);\n        buttonEle.onclick = function (e) {\n            if (btnSettings.clicked) {\n                btnSettings.clicked.call(_this, e);\n            }\n        };\n        buttonEle.setAttribute('aria-label', btnSettings.content);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var buttonEle = itemEle.querySelector('#' + item.id);\n        buttonEle.setAttribute('data-control', item.type.toString());\n        var buttonObj = getComponent(buttonEle, Button);\n        buttonObj.setProperties({ cssClass: buttonObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        buttonEle.onclick = function (e) {\n            if (item.buttonSettings.clicked) {\n                item.buttonSettings.clicked.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = itemEle.querySelector('#' + item.id);\n        var buttonObj = getComponent(buttonEle, Button);\n        var cssClass = buttonObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        buttonObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        buttonEle.onclick = function (e) {\n            if (item.buttonSettings.clicked) {\n                item.buttonSettings.clicked.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Triggers the click action on the button.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonButton.prototype.click = function (controlId) {\n        var buttonEle = getItemElement(this.parent, controlId);\n        if (!buttonEle) {\n            return;\n        }\n        var buttonObj = getComponent(buttonEle, Button);\n        buttonObj.click();\n    };\n    /**\n     * Updates the button properties.\n     *\n     * @param {RibbonButtonSettingsModel} prop - Gets the button property.\n     * @param {string} id - Gets the ID of button item.\n     * @returns {void}\n     */\n    RibbonButton.prototype.updateButton = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.buttonSettings, prop);\n        var buttonEle = getItemElement(this.parent, id, itemProp);\n        if (!buttonEle) {\n            return;\n        }\n        var buttonObj = getComponent(buttonEle, Button);\n        if (prop.cssClass) {\n            prop.cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        if (prop.content) {\n            prop.content = itemProp.item.activeSize === RibbonItemSize.Small ? '' : prop.content;\n            buttonEle.setAttribute('aria-label', prop.content);\n        }\n        delete prop.clicked;\n        buttonObj.setProperties(prop);\n    };\n    /**\n     * Updates the button size.\n     *\n     * @param {HTMLElement} element - Gets the button element.\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.updateButtonSize = function (element, item) {\n        var buttonObj = getComponent(element, Button);\n        buttonObj.setProperties({\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            content: item.activeSize === RibbonItemSize.Small ? '' : item.buttonSettings.content\n        });\n    };\n    return RibbonButton;\n}());\nexport { RibbonButton };\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { getItem, getItemElement, RIBBON_CONTROL, SPACE, RIBBON_POPUP_CONTROL } from '../base/index';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonCheckBox = /** @class */ (function () {\n    function RibbonCheckBox(parent) {\n        this.parent = parent;\n    }\n    RibbonCheckBox.prototype.getModuleName = function () {\n        return 'ribbonCheckBox';\n    };\n    RibbonCheckBox.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the check box.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.createCheckBox = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var checkBoxSettings = item.checkBoxSettings;\n        new CheckBox({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            checked: checkBoxSettings.checked,\n            cssClass: (RIBBON_CONTROL + SPACE + (checkBoxSettings.cssClass ? checkBoxSettings.cssClass : '')).trim(),\n            label: checkBoxSettings.label,\n            labelPosition: checkBoxSettings.labelPosition,\n            disabled: item.disabled,\n            created: checkBoxSettings.created,\n            change: function (e) {\n                if (checkBoxSettings.change) {\n                    checkBoxSettings.change.call(_this, e);\n                }\n            }\n        }, inputEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        inputEle.setAttribute('data-control', item.type.toString());\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.cssClass = checkBoxObj.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        checkBoxObj.dataBind();\n        checkBoxObj.change = function (e) {\n            if (item.checkBoxSettings.change) {\n                item.checkBoxSettings.change.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        var cssClass = checkBoxObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        checkBoxObj.cssClass = cssClass.join(SPACE);\n        checkBoxObj.dataBind();\n        checkBoxObj.change = function (e) {\n            if (item.checkBoxSettings.change) {\n                item.checkBoxSettings.change.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Triggers the click action on the Checkbox.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonCheckBox.prototype.click = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        if (!inputEle) {\n            return;\n        }\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.click();\n    };\n    /**\n     * Updates the checkbox.\n     *\n     * @param {RibbonCheckBoxSettingsModel} prop - Gets the checkbox property.\n     * @param {string} id - Gets the ID of checkbox.\n     * @returns {void}\n     */\n    RibbonCheckBox.prototype.updateCheckBox = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.checkBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.change;\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.setProperties(prop);\n    };\n    return RibbonCheckBox;\n}());\nexport { RibbonCheckBox };\n","import { EventHandler, getComponent, merge } from '@syncfusion/ej2-base';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { getItem, getItemElement } from '../base/index';\nimport { RIBBON_CONTROL, RIBBON_HOVER, RIBBON_POPUP_CONTROL, RIBBON_POPUP_OPEN, SPACE } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonColorPicker = /** @class */ (function () {\n    function RibbonColorPicker(parent) {\n        this.parent = parent;\n    }\n    RibbonColorPicker.prototype.getModuleName = function () {\n        return 'ribbonColorPicker';\n    };\n    RibbonColorPicker.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the colorpicker.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.createColorPicker = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var colorPickerSettings = item.colorPickerSettings;\n        var colorPicker = new ColorPicker({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            columns: colorPickerSettings.columns,\n            cssClass: (RIBBON_CONTROL + SPACE + (colorPickerSettings.cssClass ? colorPickerSettings.cssClass : '')).trim(),\n            disabled: item.disabled,\n            enableOpacity: colorPickerSettings.enableOpacity,\n            mode: colorPickerSettings.mode,\n            modeSwitcher: colorPickerSettings.modeSwitcher,\n            noColor: colorPickerSettings.noColor,\n            presetColors: colorPickerSettings.presetColors,\n            showButtons: colorPickerSettings.showButtons,\n            value: colorPickerSettings.value,\n            beforeClose: function () {\n                colorPicker.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n                if (colorPickerSettings.beforeClose) {\n                    colorPickerSettings.beforeClose.call(_this);\n                }\n            },\n            beforeOpen: colorPickerSettings.beforeOpen,\n            beforeTileRender: colorPickerSettings.beforeTileRender,\n            created: colorPickerSettings.created,\n            change: colorPickerSettings.change,\n            open: function () {\n                colorPicker.element.parentElement.classList.add(RIBBON_POPUP_OPEN);\n                if (colorPickerSettings.open) {\n                    colorPickerSettings.open.call(_this);\n                }\n            },\n            select: colorPickerSettings.select\n        }, inputEle);\n        var wrapper = colorPicker.element.parentElement;\n        EventHandler.add(wrapper, 'mouseenter', this.toggleWrapperHover.bind(this, wrapper, true), this);\n        EventHandler.add(wrapper, 'mouseleave', this.toggleWrapperHover.bind(this, wrapper, false), this);\n    };\n    RibbonColorPicker.prototype.toggleWrapperHover = function (wrapper, isAdd) {\n        if (isAdd) {\n            wrapper.classList.add(RIBBON_HOVER);\n        }\n        else {\n            wrapper.classList.remove(RIBBON_HOVER);\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var colorPickerEle = itemEle.querySelector('#' + item.id);\n        colorPickerEle.setAttribute('data-control', item.type.toString());\n        var colorPickerObj = getComponent(colorPickerEle, ColorPicker);\n        colorPickerObj.setProperties({ cssClass: colorPickerObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        //Accessing the private property 'splitBtn' of ColorPicker component to get the colorpicker instance as there is no close event in colorpicker.\n        var splitBtn = colorPickerObj['splitBtn'];\n        var target;\n        colorPickerObj.beforeClose = function (e) {\n            target = e.event ? e.event.target : null;\n            colorPickerObj.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n            if (item.colorPickerSettings.beforeClose) {\n                item.colorPickerSettings.beforeClose.call(_this);\n            }\n        };\n        splitBtn.close = function () {\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var colorPickerEle = itemEle.querySelector('#' + item.id);\n        var colorPickerObj = getComponent(colorPickerEle, ColorPicker);\n        var cssClass = colorPickerObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        colorPickerObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        var splitBtn = colorPickerObj['splitBtn'];\n        //Accessing the private property 'splitBtn' of ColorPicker component to get the colorpicker instance as there is no close event in colorpicker.\n        splitBtn.close = null;\n        colorPickerObj.beforeClose = function (e) {\n            colorPickerObj.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n            if (item.colorPickerSettings.beforeClose) {\n                item.colorPickerSettings.beforeClose.call(_this);\n            }\n        };\n    };\n    RibbonColorPicker.prototype.getColorPickerObj = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        return inputEle ? getComponent(inputEle, ColorPicker) : null;\n    };\n    /**\n     * Gets color value in specified type.\n     *\n     * @param {string} controlId -Gets the control ID.\n     * @param {string} value - Specify the color value.\n     * @param {string} type - Specify the type to which the specified color needs to be converted.\n     * @returns {string} - Returns string.\n     */\n    RibbonColorPicker.prototype.getValue = function (controlId, value, type) {\n        var colorPickerObj = this.getColorPickerObj(controlId);\n        return colorPickerObj ? colorPickerObj.getValue(value, type) : '';\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     *\n     * @param {string} controlId - set the id of the control.\n     * @returns {void} - Returns void.\n     */\n    RibbonColorPicker.prototype.toggle = function (controlId) {\n        var colorPickerObj = this.getColorPickerObj(controlId);\n        if (!colorPickerObj) {\n            return;\n        }\n        colorPickerObj.toggle();\n    };\n    /**\n     * Updates the colorpicker properties.\n     *\n     * @param {RibbonColorPickerSettingsModel} prop - Gets the colorpicker property.\n     * @param {string} id - Gets the ID of colorpicker.\n     * @returns {void}\n     */\n    RibbonColorPicker.prototype.updateColorPicker = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.checkBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.beforeClose;\n        delete prop.open;\n        var colorPickerObj = getComponent(inputEle, ColorPicker);\n        colorPickerObj.setProperties(prop);\n    };\n    /**\n     * @param {HTMLElement} element - Gets the colorpicker element to be destroyed.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.unwireColorPickerEvents = function (element) {\n        var colorPickerObj = getComponent(element, ColorPicker);\n        var wrapper = colorPickerObj.element.parentElement;\n        EventHandler.remove(wrapper, 'mouseenter', this.toggleWrapperHover);\n        EventHandler.remove(wrapper, 'mouseleave', this.toggleWrapperHover);\n    };\n    return RibbonColorPicker;\n}());\nexport { RibbonColorPicker };\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { getItem, getItemElement, RIBBON_CONTROL, SPACE, RIBBON_POPUP_CONTROL } from '../base/index';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonComboBox = /** @class */ (function () {\n    function RibbonComboBox(parent) {\n        this.parent = parent;\n    }\n    RibbonComboBox.prototype.getModuleName = function () {\n        return 'ribbonComboBox';\n    };\n    RibbonComboBox.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the combobox.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.createComboBox = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var comboBoxSettings = item.comboBoxSettings;\n        new ComboBox({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            allowCustom: false,\n            floatLabelType: 'Never',\n            ignoreAccent: true,\n            ignoreCase: true,\n            allowFiltering: comboBoxSettings.allowFiltering,\n            autofill: comboBoxSettings.autofill,\n            cssClass: (RIBBON_CONTROL + SPACE + (comboBoxSettings.cssClass ? comboBoxSettings.cssClass : '')).trim(),\n            dataSource: comboBoxSettings.dataSource,\n            enabled: !item.disabled,\n            fields: comboBoxSettings.fields,\n            filterType: comboBoxSettings.filterType,\n            footerTemplate: comboBoxSettings.footerTemplate,\n            groupTemplate: comboBoxSettings.groupTemplate,\n            headerTemplate: comboBoxSettings.headerTemplate,\n            index: comboBoxSettings.index,\n            itemTemplate: comboBoxSettings.itemTemplate,\n            noRecordsTemplate: comboBoxSettings.noRecordsTemplate,\n            placeholder: comboBoxSettings.placeholder,\n            popupHeight: comboBoxSettings.popupHeight,\n            popupWidth: comboBoxSettings.popupWidth,\n            showClearButton: comboBoxSettings.showClearButton,\n            sortOrder: comboBoxSettings.sortOrder,\n            text: comboBoxSettings.text,\n            value: comboBoxSettings.value,\n            width: comboBoxSettings.width,\n            beforeOpen: comboBoxSettings.beforeOpen,\n            open: comboBoxSettings.open,\n            close: function (e) {\n                if (comboBoxSettings.close) {\n                    comboBoxSettings.close.call(_this, e);\n                }\n            },\n            filtering: comboBoxSettings.filtering,\n            change: comboBoxSettings.change,\n            select: comboBoxSettings.select,\n            created: comboBoxSettings.created\n        }, inputEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        inputEle.setAttribute('data-control', item.type.toString());\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        comboBoxObj.setProperties({ cssClass: comboBoxObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        comboBoxObj.close = function (e) {\n            var target = e.event ? e.event.target : null;\n            if (item.comboBoxSettings.close) {\n                item.comboBoxSettings.close.call(_this, e);\n            }\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        var cssClass = comboBoxObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        comboBoxObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        comboBoxObj.close = function (e) {\n            if (item.comboBoxSettings.close) {\n                item.comboBoxSettings.close.call(_this, e);\n            }\n        };\n    };\n    RibbonComboBox.prototype.getComboBoxObj = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        return inputEle ? getComponent(inputEle, ComboBox) : null;\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param  {string } controlId - set the id of the control in which methods needs to be called.\n     * @param  {Object[] } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.filter = function (controlId, dataSource, query, fields) {\n        this.getComboBoxObj(controlId).filter(dataSource, query, fields);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the combobox.\n     *\n     * @param {string} controlId - Gets the id of the control.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.hidePopup = function (controlId) {\n        var comboBoxObj = this.getComboBoxObj(controlId);\n        if (!comboBoxObj) {\n            return;\n        }\n        comboBoxObj.hidePopup();\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the combobox.\n     *\n     * @param {string} controlId - Gets the id of the control.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.showPopup = function (controlId) {\n        var comboBoxObj = this.getComboBoxObj(controlId);\n        if (!comboBoxObj) {\n            return;\n        }\n        comboBoxObj.showPopup();\n    };\n    /**\n     * Updates the combobox properties.\n     *\n     * @param {RibbonComboBoxSettingsModel} prop - Gets the combobox property.\n     * @param {string} id - Gets the ID of combobox.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.updateComboBox = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.comboBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.close;\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        comboBoxObj.setProperties(prop);\n    };\n    return RibbonComboBox;\n}());\nexport { RibbonComboBox };\n","import { closest, getComponent, isNullOrUndefined, merge, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { getItem, getItemElement, RibbonItemSize, createTooltip } from '../base/index';\nimport { DROPDOWN_ID, ITEM_VERTICAL_CENTER, OVERFLOW_ID, RIBBON_CONTROL, RIBBON_GROUP_OVERFLOW_DDB, RIBBON_POPUP_CONTROL, SPACE, VERTICAL_DDB } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonDropDown = /** @class */ (function () {\n    function RibbonDropDown(parent) {\n        this.parent = parent;\n    }\n    RibbonDropDown.prototype.getModuleName = function () {\n        return 'ribbonDropDown';\n    };\n    RibbonDropDown.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates DropDown.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.createDropDown = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var dropDownSettings = item.dropDownSettings;\n        var cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (dropDownSettings.cssClass ?\n            dropDownSettings.cssClass : '')).trim();\n        new DropDownButton({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            closeActionEvents: dropDownSettings.closeActionEvents,\n            content: item.activeSize === RibbonItemSize.Small ? '' : dropDownSettings.content,\n            cssClass: cssClass + ((item.activeSize === RibbonItemSize.Large) ? (SPACE + VERTICAL_DDB) : ''),\n            disabled: item.disabled,\n            iconCss: dropDownSettings.iconCss,\n            items: dropDownSettings.items,\n            target: dropDownSettings.target,\n            beforeClose: function (e) {\n                if (dropDownSettings.beforeClose) {\n                    dropDownSettings.beforeClose.call(_this, e);\n                }\n            },\n            beforeItemRender: dropDownSettings.beforeItemRender,\n            beforeOpen: dropDownSettings.beforeOpen,\n            close: function (e) {\n                if (dropDownSettings.close) {\n                    dropDownSettings.close.call(_this, e);\n                }\n            },\n            created: dropDownSettings.created,\n            open: dropDownSettings.open,\n            select: dropDownSettings.select\n        }, buttonEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var dropdownElement = itemEle.querySelector('#' + item.id);\n        dropdownElement.setAttribute('data-control', item.type.toString());\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        dropdown.cssClass = dropdown.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        dropdown.dataBind();\n        var target;\n        dropdown.beforeClose = function (e) {\n            if (item.dropDownSettings.beforeClose) {\n                item.dropDownSettings.beforeClose.call(_this, e);\n            }\n            target = e.event ? e.event.target : null;\n        };\n        dropdown.close = function (e) {\n            if (item.dropDownSettings.close) {\n                item.dropDownSettings.close.call(_this, e);\n            }\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var dropdownElement = itemEle.querySelector('#' + item.id);\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var cssClass = dropdown.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        dropdown.cssClass = cssClass.join(SPACE);\n        dropdown.dataBind();\n        dropdown.close = function (e) {\n            if (item.dropDownSettings.close) {\n                item.dropDownSettings.close.call(_this, e);\n            }\n        };\n        dropdown.beforeClose = function (e) {\n            if (item.dropDownSettings.beforeClose) {\n                item.dropDownSettings.beforeClose.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Creates Overflow DropDown.\n     *\n     * @param {string} id - Gets the ID of the dropdown item.\n     * @param {string} name - Gets the name of the dropdown item.\n     * @param {string} iconCss - Gets the icon of the dropdown item.\n     * @param {HTMLElement} groupEle - Gets the overflow group element.\n     * @param {HTMLElement} overflowEle - Gets the overflow element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.createOverFlowDropDown = function (id, name, iconCss, groupEle, overflowEle, enableRtl) {\n        var _this = this;\n        this.enableRtl = enableRtl;\n        var buttonEle = this.parent.createElement('button', {\n            id: id + OVERFLOW_ID + DROPDOWN_ID\n        });\n        groupEle.setAttribute('tabindex', '0');\n        overflowEle.appendChild(buttonEle);\n        var dropdown = new DropDownButton({\n            iconCss: iconCss,\n            target: groupEle,\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            cssClass: VERTICAL_DDB + SPACE + RIBBON_GROUP_OVERFLOW_DDB,\n            iconPosition: 'Top',\n            content: name,\n            beforeClose: function (args) {\n                args.cancel = !isNullOrUndefined(args.event && closest(args.event.target, '.' + RIBBON_POPUP_CONTROL));\n            }\n        }, buttonEle);\n        createTooltip(groupEle, this.parent);\n        buttonEle.onclick = buttonEle.onkeydown = function () { _this.itemIndex = 0; };\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n        groupEle.onkeydown = function (e) { _this.keyActionHandler(e, groupEle), _this; };\n        return dropdown;\n    };\n    RibbonDropDown.prototype.keyActionHandler = function (e, target) {\n        var items = target.querySelectorAll('.e-control');\n        var comboBoxElements = target.querySelectorAll('.e-combobox');\n        var comboBoxEle;\n        if (comboBoxElements) {\n            for (var i = 0; i < comboBoxElements.length; i++) {\n                if (comboBoxElements[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                    comboBoxEle = comboBoxElements[parseInt(i.toString(), 10)];\n                }\n            }\n        }\n        if (comboBoxEle) {\n            for (var i = 0; i < items.length; i++) {\n                if (items[parseInt(i.toString(), 10)].classList.contains('e-combobox')) {\n                    if (items[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                        this.itemIndex = i;\n                    }\n                }\n            }\n        }\n        if (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-launcher-icon') ||\n            e.target.classList.contains('e-ribbon-last-item') || e.target.classList.contains('e-ribbon-first-item')) {\n            if (e.key === 'ArrowRight' || (!e.shiftKey && e.key === 'Tab')) {\n                this.handleNavigation(e, !this.enableRtl, items);\n            }\n            if (e.key === 'ArrowLeft' || (e.shiftKey && e.key === 'Tab')) {\n                this.handleNavigation(e, this.enableRtl, items);\n            }\n        }\n    };\n    RibbonDropDown.prototype.handleNavigation = function (e, enableRtl, items) {\n        if (!(items[0].classList.contains('e-ribbon-first-item'))) {\n            items[0].classList.add('e-ribbon-first-item');\n        }\n        if (!(items[items.length - 1].classList.contains('e-ribbon-last-item'))) {\n            items[items.length - 1].classList.add('e-ribbon-last-item');\n        }\n        if (enableRtl) {\n            if (this.itemIndex === 0 && items[parseInt(this.itemIndex.toString(), 10)].classList.contains('e-ribbon-first-item')) {\n                this.updateItemIndex(e, items, true);\n            }\n            if (!e.target.classList.contains('e-combobox') && !e.target.classList.contains('e-ribbon-last-item') &&\n                !e.target.classList.contains('e-ribbon-group-container') && (e.target.classList.contains('e-ribbon-first-item')\n                || this.itemIndex !== 0) && e.target.classList.contains('e-control')) {\n                this.itemIndex++;\n                this.updateItemIndex(e, items, true);\n            }\n            if (e.target.classList.contains('e-ribbon-last-item')) {\n                var launcherIcon = false;\n                launcherIcon = this.focusLauncherIcon(e, items);\n                if (!launcherIcon) {\n                    this.itemIndex = 0;\n                    this.updateItemIndex(e, items, true);\n                }\n            }\n            if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n                this.itemIndex = 0;\n                this.updateItemIndex(e, items, true);\n            }\n        }\n        else {\n            if (!e.target.classList.contains('e-combobox') && this.itemIndex !== 0) {\n                this.itemIndex--;\n                this.updateItemIndex(e, items, false);\n            }\n            if (e.target.classList.contains('e-ribbon-first-item')) {\n                var launcherIcon = false;\n                launcherIcon = this.focusLauncherIcon(e, items);\n                if (!launcherIcon) {\n                    this.itemIndex = items.length - 1;\n                    this.updateItemIndex(e, items, false);\n                }\n            }\n            if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n                this.itemIndex = items.length - 1;\n                this.updateItemIndex(e, items, false);\n            }\n        }\n        if (e.target.classList.contains('e-combobox') && (e.key === 'Tab')) {\n            if (enableRtl) {\n                if (this.itemIndex < items.length - 1) {\n                    this.itemIndex++;\n                }\n            }\n            else {\n                if (this.itemIndex > 0) {\n                    this.itemIndex--;\n                }\n            }\n        }\n    };\n    RibbonDropDown.prototype.focusLauncherIcon = function (e, items) {\n        var groupContainer = items[parseInt(this.itemIndex.toString(), 10)].closest('.e-ribbon-group-container');\n        var launcherIconEle;\n        if (groupContainer) {\n            launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n        }\n        if (launcherIconEle) {\n            if (e.key === 'Tab') {\n                e.preventDefault();\n            }\n            groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    RibbonDropDown.prototype.updateItemIndex = function (e, items, enableRtl) {\n        var ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n            if (enableRtl) {\n                if (this.itemIndex < items.length - 1) {\n                    this.itemIndex++;\n                }\n                else {\n                    var launcherIcon = false;\n                    launcherIcon = this.focusLauncherIcon(e, items);\n                    if (launcherIcon) {\n                        break;\n                    }\n                    this.itemIndex = 0;\n                }\n            }\n            else {\n                if (this.itemIndex > 0) {\n                    this.itemIndex--;\n                }\n                else {\n                    var launcherIcon = false;\n                    launcherIcon = this.focusLauncherIcon(e, items);\n                    if (launcherIcon) {\n                        break;\n                    }\n                    this.itemIndex = items.length - 1;\n                }\n            }\n            ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        }\n        if (e.key === 'Tab') {\n            e.preventDefault();\n        }\n        items[parseInt(this.itemIndex.toString(), 10)].focus();\n    };\n    /**\n     * Removes Overflow DropDown.\n     *\n     * @param {HTMLElement} dropdownElement - Gets the ribbon DropDown element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.removeOverFlowDropDown = function (dropdownElement) {\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var tooltip = getComponent(dropdown.target, Tooltip);\n        tooltip.destroy();\n        dropdownElement.parentElement.parentElement.insertBefore(dropdown.target, dropdownElement.parentElement);\n        dropdown.destroy();\n        remove(dropdownElement);\n    };\n    /**\n     * Gets DropDown item element.\n     *\n     * @param {HTMLElement} dropdownElement - Gets the ribbon DropDown element.\n     * @param {string} id - Gets the ID of ribbon DropDown element.\n     * @returns {HTMLElement} - Returns the DropDown item element.\n     * @hidden\n     */\n    RibbonDropDown.prototype.getDDBItemElement = function (dropdownElement, id) {\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var dropDownPopup = dropdown.dropDown.element;\n        return dropDownPopup.querySelector('#' + id);\n    };\n    /**\n     * Gets Overflow DropDown Popup.\n     *\n     * @param {itemProps} itemProp - Gets the property of ribbon item.\n     * @param {HTMLElement} contentEle - Gets the content element.\n     * @returns {HTMLElement} - Returns the Overflow DropDown Popup.\n     * @hidden\n     */\n    RibbonDropDown.prototype.getOverflowDropDownPopup = function (itemProp, contentEle) {\n        var dropdownElement = contentEle.querySelector('#' + this.parent.tabs[itemProp.tabIndex].groups[itemProp.groupIndex].id + OVERFLOW_ID + DROPDOWN_ID);\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        return dropdown.dropDown.element;\n    };\n    RibbonDropDown.prototype.getDropDownObj = function (controlId) {\n        var dropDownEle = getItemElement(this.parent, controlId);\n        return dropDownEle ? getComponent(dropDownEle, DropDownButton) : null;\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to\n     * the list as the last item, but you can insert based on the text parameter.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {ItemModel[]} Items - Gets the DropDown items.\n     * @param {string} text - Gets the text of the dropdown item where the new item needs to be inserted.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.addItems = function (controlId, Items, text) {\n        this.getDropDownObj(controlId).addItems(Items, text);\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {string[]} Items -\n     * @param {string} isUniqueId -\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.removeItems = function (controlId, Items, isUniqueId) {\n        this.getDropDownObj(controlId).removeItems(Items, isUniqueId);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.toggle = function (controlId) {\n        this.getDropDownObj(controlId).toggle();\n    };\n    /**\n     * Updates the dropdown.\n     *\n     * @param {RibbonDropDownSettingsModel} prop - Gets the dropdown property.\n     * @param {string} id - Gets the ID of dropdown.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.updateDropDown = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.dropDownSettings, prop);\n        var btnEle = getItemElement(this.parent, id, itemProp);\n        if (!btnEle) {\n            return;\n        }\n        var control = getComponent(btnEle, DropDownButton);\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + ITEM_VERTICAL_CENTER + SPACE + prop.cssClass).trim();\n            prop.cssClass = itemProp.item.activeSize === RibbonItemSize.Large ?\n                (VERTICAL_DDB + SPACE + prop.cssClass).trim() : prop.cssClass;\n            control.cssClass = prop.cssClass;\n        }\n        delete prop.close;\n        delete prop.beforeClose;\n        if (prop.content) {\n            prop.content = itemProp.item.activeSize === RibbonItemSize.Small ? '' : prop.content;\n        }\n        control.setProperties(prop);\n    };\n    /**\n     * Updated DropDown size\n     *\n     * @param {HTMLElement} element - Gets the dropdown element.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.updateDropDownSize = function (element, item) {\n        var control = getComponent(element, DropDownButton);\n        var cssClass = control.cssClass.split(SPACE);\n        if (item.activeSize === RibbonItemSize.Large) {\n            cssClass.push(VERTICAL_DDB);\n        }\n        else {\n            cssClass = cssClass.filter(function (value) { return value !== VERTICAL_DDB; });\n        }\n        control.cssClass = cssClass.join(SPACE);\n        control.setProperties({ iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left' });\n        control.setProperties({ content: item.activeSize === RibbonItemSize.Small ? '' : item.dropDownSettings.content });\n    };\n    return RibbonDropDown;\n}());\nexport { RibbonDropDown };\n","import { EventHandler, getComponent, merge } from '@syncfusion/ej2-base';\nimport { SplitButton } from '@syncfusion/ej2-splitbuttons';\nimport { getItem, getItemElement, RibbonItemSize } from '../base/index';\nimport { ITEM_VERTICAL_CENTER, RIBBON_CONTROL, RIBBON_HOVER, RIBBON_POPUP_CONTROL, RIBBON_POPUP_OPEN, SPACE, VERTICAL_DDB } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonSplitButton = /** @class */ (function () {\n    function RibbonSplitButton(parent) {\n        this.parent = parent;\n    }\n    RibbonSplitButton.prototype.getModuleName = function () {\n        return 'ribbonSplitButton';\n    };\n    RibbonSplitButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates SplitButton.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.createSplitButton = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var splitButtonSettings = item.splitButtonSettings;\n        var cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (splitButtonSettings.cssClass ?\n            splitButtonSettings.cssClass : '')).trim();\n        var splitbutton = new SplitButton({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            closeActionEvents: splitButtonSettings.closeActionEvents,\n            cssClass: cssClass + ((item.activeSize === RibbonItemSize.Large) ? (SPACE + VERTICAL_DDB) : ''),\n            disabled: item.disabled,\n            iconCss: splitButtonSettings.iconCss,\n            items: splitButtonSettings.items,\n            target: splitButtonSettings.target,\n            beforeClose: function (e) {\n                if (splitButtonSettings.beforeClose) {\n                    splitButtonSettings.beforeClose.call(_this, e);\n                }\n            },\n            beforeItemRender: splitButtonSettings.beforeItemRender,\n            beforeOpen: splitButtonSettings.beforeOpen,\n            close: function () {\n                splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n                if (splitButtonSettings.close) {\n                    splitButtonSettings.close.call(_this);\n                }\n            },\n            created: splitButtonSettings.created,\n            open: function () {\n                splitbutton['wrapper'].classList.add(RIBBON_POPUP_OPEN);\n                if (splitButtonSettings.open) {\n                    splitButtonSettings.open.call(_this);\n                }\n            },\n            select: splitButtonSettings.select,\n            click: function (e) {\n                if (splitButtonSettings.click) {\n                    splitButtonSettings.click.call(_this, e);\n                }\n            }\n        }, buttonEle);\n        var dropdownEle = buttonEle.parentElement.querySelector('.e-dropdown-btn');\n        dropdownEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.stopImmediatePropagation();\n                dropdownEle.click();\n            }\n        };\n        this.setContent(item, splitbutton);\n        var wrapper = splitbutton['wrapper'];\n        EventHandler.add(wrapper, 'mouseenter', function () { wrapper.classList.add(RIBBON_HOVER); }, this);\n        EventHandler.add(wrapper, 'mouseleave', function () { wrapper.classList.remove(RIBBON_HOVER); }, this);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var splitButtonEle = itemEle.querySelector('#' + item.id);\n        splitButtonEle.setAttribute('data-control', item.type.toString());\n        var splitbutton = getComponent(splitButtonEle, SplitButton);\n        splitbutton.cssClass = splitbutton.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        splitbutton.dataBind();\n        var dropdownEle = splitButtonEle.parentElement.querySelector('.e-dropdown-btn');\n        var ddbId = dropdownEle.getAttribute('id');\n        var popupEle = document.querySelector('#' + ddbId + '-popup');\n        dropdownEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.stopImmediatePropagation();\n                dropdownEle.click();\n            }\n        };\n        popupEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.preventDefault();\n                splitbutton['wrapper'].classList.remove('e-ribbon-open');\n                popupEle.querySelector('.e-focused').click();\n            }\n        };\n        var target;\n        splitbutton.beforeClose = function (e) {\n            if (item.splitButtonSettings.beforeClose) {\n                item.splitButtonSettings.beforeClose.call(_this, e);\n            }\n            target = e.event ? e.event.target : null;\n        };\n        splitbutton.click = function (e) {\n            if (item.splitButtonSettings.click) {\n                item.splitButtonSettings.click.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n        splitbutton.close = function (e) {\n            if (item.splitButtonSettings.close) {\n                item.splitButtonSettings.close.call(_this, e);\n            }\n            splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var splitButtonEle = itemEle.querySelector('#' + item.id);\n        var splitbutton = getComponent(splitButtonEle, SplitButton);\n        var cssClass = splitbutton.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        splitbutton.cssClass = cssClass.join(SPACE);\n        splitbutton.dataBind();\n        splitbutton.beforeClose = function (e) {\n            if (item.splitButtonSettings.beforeClose) {\n                item.splitButtonSettings.beforeClose.call(_this, e);\n            }\n        };\n        splitbutton.click = function (e) {\n            if (item.splitButtonSettings.click) {\n                item.splitButtonSettings.click.call(_this, e);\n            }\n        };\n        splitbutton.close = function (e) {\n            if (item.splitButtonSettings.close) {\n                item.splitButtonSettings.close.call(_this, e);\n            }\n            splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n        };\n    };\n    RibbonSplitButton.prototype.setContent = function (item, control) {\n        control['primaryBtnObj'].setProperties({ content: (item.activeSize === RibbonItemSize.Medium) ? item.splitButtonSettings.content : '' });\n        control['secondaryBtnObj'].setProperties({ content: (item.activeSize === RibbonItemSize.Large) ? item.splitButtonSettings.content : '' });\n    };\n    RibbonSplitButton.prototype.getSplitButtonObj = function (controlId) {\n        var splitButtonEle = getItemElement(this.parent, controlId);\n        return getComponent(splitButtonEle, SplitButton);\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to\n     * the list as the last item, but you can insert based on the text parameter.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {ItemModel[]} Items - Gets the SplitButton items.\n     * @param {string} text - Gets the text of the splitbutton item where the new item needs to be inserted.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.addItems = function (controlId, Items, text) {\n        this.getSplitButtonObj(controlId).addItems(Items, text);\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {string[]} Items -\n     * @param {string} isUniqueId -\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.removeItems = function (controlId, Items, isUniqueId) {\n        this.getSplitButtonObj(controlId).removeItems(Items, isUniqueId);\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.toggle = function (controlId) {\n        this.getSplitButtonObj(controlId).toggle();\n    };\n    /**\n     * Updates the splitbutton.\n     *\n     * @param {RibbonSplitButtonSettingsModel} prop - Gets the splitbutton property.\n     * @param {string} id - Gets the ID of dropdown.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.updateSplitButton = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.splitButtonSettings, prop);\n        var btnEle = getItemElement(this.parent, id, itemProp);\n        if (!btnEle) {\n            return;\n        }\n        var control = getComponent(btnEle, SplitButton);\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + ITEM_VERTICAL_CENTER + SPACE + prop.cssClass).trim();\n            prop.cssClass = itemProp.item.activeSize === RibbonItemSize.Large ?\n                (VERTICAL_DDB + SPACE + prop.cssClass).trim() : prop.cssClass;\n            control.cssClass = prop.cssClass;\n        }\n        delete prop.open;\n        delete prop.click;\n        delete prop.close;\n        delete prop.beforeClose;\n        control.setProperties(prop);\n        if (prop.content) {\n            this.setContent(itemProp.item, control);\n        }\n    };\n    /**\n     * Updated SplitButton size\n     *\n     * @param {HTMLElement} element - Gets the splibutton element.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.updateSplitButtonSize = function (element, item) {\n        var control = getComponent(element, SplitButton);\n        var cssClass = control.cssClass.split(SPACE);\n        if (item.activeSize === RibbonItemSize.Large) {\n            cssClass.push(VERTICAL_DDB);\n        }\n        else {\n            cssClass = cssClass.filter(function (value) { return value !== VERTICAL_DDB; });\n        }\n        control.cssClass = cssClass.join(SPACE);\n        control.setProperties({ iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left' });\n        this.setContent(item, control);\n    };\n    return RibbonSplitButton;\n}());\nexport { RibbonSplitButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { addClass, append, Event, Collection, Complex, Component, EventHandler, formatUnit, getInstance, getComponent, getUniqueID, closest, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, NotifyPropertyChanges, Property, remove, removeClass } from '@syncfusion/ej2-base';\nimport { Tab, TabAnimationSettings, HScroll, Toolbar } from '@syncfusion/ej2-navigations';\nimport { RibbonTab, FileMenuSettings } from '../models/index';\nimport { DisplayMode, RibbonLayout } from './interface';\nimport { ItemOrientation, RibbonItemSize, RibbonItemType } from './interface';\nimport { RibbonButton, RibbonComboBox, RibbonCheckBox, RibbonDropDown, RibbonSplitButton } from '../items/index';\nimport { destroyControl, getCollection, getGroup, getIndex, getItem, getItemElement, updateCommonProperty, updateControlDisabled, isTooltipPresent, getTemplateFunction, createTooltip, destroyTooltip, updateTooltipProp } from './utils';\nimport * as constants from './constant';\nimport { DropDownButton, SplitButton } from '@syncfusion/ej2-splitbuttons';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\n/**\n * The Ribbon Component is a structured layout to manage tools with tabs and groups.\n */\nvar Ribbon = /** @class */ (function (_super) {\n    __extends(Ribbon, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param  {RibbonModel} options - Specifies the ribbon model\n     * @param  {string|HTMLDivElement} element - Specifies the target element\n     */\n    function Ribbon(options, element) {\n        var _this = this;\n        Ribbon_1.Inject(RibbonButton, RibbonCheckBox, RibbonDropDown, RibbonSplitButton, RibbonComboBox);\n        _this = _super.call(this, options, element) || this;\n        return _this;\n    }\n    Ribbon_1 = Ribbon;\n    /**\n     * Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Ribbon.prototype.render = function () {\n        this.initialize();\n    };\n    Ribbon.prototype.preRender = function () {\n        this.idIndex = 0;\n        this.tooltipData = [];\n        this.isAddRemove = false;\n        this.keyConfigs = {\n            leftarrow: 'leftarrow',\n            rightarrow: 'rightarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab'\n        };\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    Ribbon.prototype.getPersistData = function () {\n        return this.addOnPersist(['activeLayout']);\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module name\n     * @private\n     */\n    Ribbon.prototype.getModuleName = function () {\n        return 'ribbon';\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} - returns module declaration.\n     * @hidden\n     */\n    Ribbon.prototype.requiredModules = function () {\n        var modules = [];\n        modules.push({ member: 'ribbonButton', args: [this] }, { member: 'ribbonDropDown', args: [this] }, { member: 'ribbonSplitButton', args: [this] }, { member: 'ribbonCheckBox', args: [this] }, { member: 'ribbonColorPicker', args: [this] }, { member: 'ribbonComboBox', args: [this] }, { member: 'ribbonFileMenu', args: [this] });\n        return modules;\n    };\n    Ribbon.prototype.initialize = function () {\n        this.element.id = this.element.id || getUniqueID('e-' + this.getModuleName());\n        addClass([this.element], ['e-rbn'].concat((this.cssClass ? this.cssClass.split(constants.SPACE) : [])));\n        if (this.enableRtl) {\n            this.element.classList.add(constants.RTL_CSS);\n        }\n        this.element.style.width = formatUnit(this.width);\n        this.renderTabs();\n        if (this.ribbonFileMenuModule) {\n            this.ribbonFileMenuModule.createFileMenu(this.fileMenu);\n        }\n        this.createHelpPaneTemplate();\n        var toolbar = this.tabObj['tbObj'];\n        toolbar.refreshOverflow();\n        createTooltip(this.element, this);\n        this.wireEvents();\n        this.wireKeyboardEvent();\n        this.currentControlIndex = 0;\n    };\n    Ribbon.prototype.wireEvents = function () {\n        EventHandler.add(window, 'resize', this.resizeHandler, this);\n    };\n    Ribbon.prototype.wireKeyboardEvent = function () {\n        this.keyboardModuleRibbon = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    Ribbon.prototype.keyActionHandler = function (e) {\n        if (((e.key === 'Tab') && (!(e.target.classList.contains('e-tab-wrap')) && !(e.target.classList.contains('e-combobox'))))) {\n            e.preventDefault();\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        var ribbonControls = activeContent.querySelectorAll('.e-control');\n        var comboBoxElements = activeContent.querySelectorAll('.e-combobox');\n        var comboBoxEle;\n        if (comboBoxElements) {\n            for (var i = 0; i < comboBoxElements.length; i++) {\n                if (comboBoxElements[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                    comboBoxEle = comboBoxElements[parseInt(i.toString(), 10)];\n                }\n            }\n        }\n        if (comboBoxEle) {\n            for (var i = 0; i < ribbonControls.length; i++) {\n                if (ribbonControls[parseInt(i.toString(), 10)].classList.contains('e-combobox')) {\n                    if (ribbonControls[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                        this.currentControlIndex = i;\n                    }\n                }\n            }\n        }\n        if (this.currentControlIndex === 0) {\n            var item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n            while (item && item.classList.contains('e-disabled')) {\n                this.currentControlIndex++;\n                item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n            }\n        }\n        if (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-launcher-icon') ||\n            e.target.classList.contains('e-ribbon-collapse-btn') || e.target.classList.contains('e-ribbon-last-item') ||\n            e.target.classList.contains('e-ribbon-first-item') || e.target.classList.contains('e-ribbon-group-of-btn') ||\n            e.target.classList.contains('e-ribbon-overall-of-btn')) {\n            switch (e.action) {\n                case 'rightarrow':\n                    this.handleNavigation(e, !this.enableRtl, ribbonControls);\n                    break;\n                case 'leftarrow':\n                    this.handleNavigation(e, this.enableRtl, ribbonControls);\n                    break;\n                case 'tab':\n                    if (e.target.classList.contains('e-combobox')) {\n                        if (this.currentControlIndex < ribbonControls.length - 1) {\n                            this.currentControlIndex++;\n                        }\n                    }\n                    break;\n                case 'shiftTab':\n                    if (e.target.classList.contains('e-combobox')) {\n                        if (this.currentControlIndex > 0) {\n                            this.currentControlIndex--;\n                        }\n                    }\n                    else {\n                        this.tabObj.element.querySelector('.e-toolbar-item.e-active').querySelector('.e-tab-wrap').focus();\n                        this.currentControlIndex = 0;\n                    }\n            }\n        }\n    };\n    Ribbon.prototype.handleNavigation = function (e, enableRtl, ribbonControls) {\n        var groupContainer;\n        var prevGroupId;\n        if (enableRtl) {\n            if (this.currentControlIndex < ribbonControls.length - 1 && ribbonControls[this.currentControlIndex + 1].classList.contains('e-colorpicker')) {\n                this.currentControlIndex++;\n            }\n        }\n        else {\n            if (this.currentControlIndex > 0 && ribbonControls[this.currentControlIndex - 1].classList.contains('e-colorpicker')) {\n                this.currentControlIndex--;\n            }\n        }\n        if ((!enableRtl && (this.currentControlIndex > 0)) || (enableRtl && (this.currentControlIndex < ribbonControls.length - 1))) {\n            if (!e.target.classList.contains('e-combobox') && e.target.classList.contains('e-control') && !e.target.classList.contains('e-ribbon-last-item')) {\n                if (enableRtl) {\n                    this.currentControlIndex++;\n                }\n                else {\n                    var prevGroupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                    if (prevGroupContainer) {\n                        prevGroupId = prevGroupContainer.getAttribute('id');\n                    }\n                    this.currentControlIndex--;\n                }\n                var item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                while (item && item.classList.contains('e-disabled')) {\n                    if (((enableRtl && this.currentControlIndex === ribbonControls.length - 1) ||\n                        (!enableRtl && this.currentControlIndex === 0))) {\n                        if (ribbonControls[this.currentControlIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                            this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n                            break;\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                    enableRtl ? this.currentControlIndex++ : this.currentControlIndex--;\n                    item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                }\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                if (this.activeLayout === 'Classic') {\n                    groupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                    if (enableRtl) {\n                        var launcherIconEle = void 0;\n                        if (groupContainer) {\n                            launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n                        }\n                        if (launcherIconEle) {\n                            var items = groupContainer.querySelectorAll('.e-ribbon-item');\n                            items[items.length - 1].querySelector('.e-control').classList.add('e-ribbon-last-item');\n                        }\n                    }\n                    else {\n                        if (groupContainer) {\n                            var groupContainerId = groupContainer.getAttribute('id');\n                            if (prevGroupId !== groupContainerId) {\n                                var launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n                                if (launcherIconEle) {\n                                    ribbonControls[parseInt((this.currentControlIndex + 1).toString(), 10)].classList.add('e-ribbon-first-item');\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.contains('e-ribbon-first-item')) {\n                        ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.remove('e-ribbon-first-item');\n                    }\n                    else if (ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.contains('e-ribbon-last-item')) {\n                        ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.remove('e-ribbon-last-item');\n                    }\n                }\n            }\n        }\n        else {\n            if (this.activeLayout === 'Classic') {\n                this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n            }\n            if (this.activeLayout === 'Simplified') {\n                var overflowButton = this.tabObj.element.querySelector('.e-ribbon-overall-of-btn');\n                if (enableRtl && (overflowButton && !overflowButton.classList.contains('e-ribbon-hide'))) {\n                    overflowButton.focus();\n                }\n                else {\n                    this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n                }\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-last-item')) {\n            if (enableRtl) {\n                groupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            }\n            else {\n                this.currentControlIndex--;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n        if (!enableRtl && e.target.classList.contains('e-ribbon-first-item')) {\n            groupContainer = ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n            var launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n            if (launcherIconEle) {\n                groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n            if (enableRtl) {\n                this.currentControlIndex++;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                if (ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].classList.contains('e-ribbon-last-item')) {\n                    ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].classList.remove('e-ribbon-last-item');\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                this.currentControlIndex;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-collapse-btn')) {\n            if (enableRtl) {\n                this.currentControlIndex = 0;\n                var ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n                    this.currentControlIndex++;\n                    ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                }\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n            else {\n                var overflowButton = this.tabObj.element.querySelector('.e-ribbon-overall-of-btn');\n                if ((overflowButton && !overflowButton.classList.contains('e-ribbon-hide'))) {\n                    overflowButton.focus();\n                }\n                else {\n                    this.currentControlIndex = ribbonControls.length - 1;\n                    var ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                    while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n                        this.currentControlIndex--;\n                        ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                    }\n                    ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                }\n            }\n        }\n        if (this.activeLayout === 'Simplified' && e.target.classList.contains('e-ribbon-overall-of-btn')) {\n            if (enableRtl) {\n                this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n            }\n            else {\n                this.currentControlIndex = ribbonControls.length - 1;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n    };\n    Ribbon.prototype.resizeHandler = function () {\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n        if (this.scrollModule) {\n            var scrollEle = this.tabObj.element.querySelector('.' + constants.HORIZONTAL_SCROLLBAR);\n            this.scrollModule.scrollStep = scrollEle.offsetWidth;\n        }\n    };\n    Ribbon.prototype.renderTabs = function () {\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal = this.checkID(this.tabsInternal, 'tab', this.element.id);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        var tabEle = this.createElement('div', {\n            id: this.element.id + constants.TAB_ID\n        });\n        this.element.appendChild(tabEle);\n        this.validateItemSize();\n        var tabItems = this.createTabItems(this.tabs);\n        this.tabObj = new Tab({\n            cssClass: constants.RIBBON_TAB,\n            selectedItem: this.selectedTab,\n            overflowMode: 'Popup',\n            width: this.width,\n            items: tabItems,\n            enableRtl: this.enableRtl,\n            created: this.tabCreated.bind(this),\n            selected: this.ribbonTabSelected.bind(this),\n            selecting: this.ribbonTabSelecting.bind(this)\n        });\n        this.tabObj.appendTo(tabEle);\n        //Set the width value as \"0px\" with unit for proper calculation.\n        this.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, '0px');\n        this.element.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, '0px');\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        var toolbar = getComponent(toolbarEle, Toolbar);\n        toolbar.setProperties({ width: 'calc(100% - var(--fileMenuWidth) - var(--helpTemplateWidth))' });\n        this.element.classList[this.isMinimized ? 'add' : 'remove'](constants.RIBBON_MINIMIZE);\n    };\n    Ribbon.prototype.minimize = function (val) {\n        var _this = this;\n        if (val === this.isMinimized) {\n            return;\n        }\n        var eventArgs = { cancel: false };\n        this.trigger(val ? 'ribbonCollapsing' : 'ribbonExpanding', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.setProperties({ isMinimized: val }, true);\n            _this.element.classList.toggle(constants.RIBBON_MINIMIZE, _this.isMinimized);\n            //to overwrite inline styles from hscroll\n            _this.tabObj.element.querySelector('.e-content').style.display = val ? 'none' : 'block';\n            if (!val) {\n                _this.refreshLayout();\n            }\n        });\n    };\n    Ribbon.prototype.toggleLayout = function () {\n        this.setProperties({ activeLayout: this.activeLayout === 'Simplified' ? 'Classic' : 'Simplified' }, true);\n        this.switchLayout();\n    };\n    Ribbon.prototype.tabCreated = function () {\n        this.addExpandCollapse();\n        this.renderInitialTab(this.selectedTab);\n    };\n    Ribbon.prototype.ribbonTabSelected = function (e) {\n        this.isAddRemove = false;\n        var selectedTabId = e.selectedItem.getAttribute('data-id');\n        var selectedIndex = getIndex(this.tabs, (function (tab) { return (tab.id === selectedTabId); }));\n        selectedIndex = selectedIndex === -1 ? this.selectedTab : selectedIndex;\n        var eventArgs = { previousIndex: this.selectedTab, selectedIndex: selectedIndex };\n        this.setProperties({ selectedTab: selectedIndex }, true);\n        this.checkOverflow(selectedIndex, e.selectedContent.firstChild);\n        if (this.activeLayout === 'Simplified' && this.overflowDDB) {\n            var overflowTarget = this.overflowDDB.target;\n            var ofTabContainer = overflowTarget.querySelector('.' + constants.RIBBON_TAB_ACTIVE);\n            if (ofTabContainer) {\n                ofTabContainer.classList.remove(constants.RIBBON_TAB_ACTIVE);\n            }\n            var activeTab = overflowTarget.querySelector('#' + selectedTabId + constants.OVERFLOW_ID);\n            if (activeTab) {\n                activeTab.classList.add(constants.RIBBON_TAB_ACTIVE);\n                this.overflowDDB.element.classList.remove(constants.HIDE_CSS);\n            }\n            else {\n                this.overflowDDB.element.classList.add(constants.HIDE_CSS);\n            }\n        }\n        this.trigger('tabSelected', eventArgs);\n    };\n    Ribbon.prototype.checkOverflow = function (tabIndex, activeContent) {\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        var isOverFlow = tabContent.offsetWidth < activeContent.offsetWidth;\n        if (isOverFlow && !this.scrollModule) {\n            if (this.activeLayout === 'Classic') {\n                // Defines whether the shrinking is breaked due to insufficient space.\n                var isBreak = false;\n                isBreak = this.checkGroupShrinking(tabIndex, tabContent, activeContent, true);\n                if (!isBreak && (tabContent.offsetWidth < activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupShrinking(tabIndex, tabContent, activeContent, false);\n                }\n                if (tabContent.offsetWidth < activeContent.offsetWidth) {\n                    this.createOverflowDropdown(tabIndex, tabContent, activeContent);\n                }\n            }\n            else {\n                this.checkSimplifiedItemShrinking(tabIndex, tabContent, activeContent);\n                if (tabContent.offsetWidth < activeContent.offsetWidth) {\n                    this.createSimplfiedOverflow(tabContent, activeContent, tabIndex);\n                }\n            }\n            //Adds Scroll if the tabwidth is less the content width even after adding overflow dropdown.\n            if ((tabContent.offsetWidth < activeContent.offsetWidth) && (!this.scrollModule)) {\n                this.scrollModule = new HScroll({\n                    enableRtl: this.enableRtl\n                }, this.tabObj.element.querySelector('.' + constants.TAB_CONTENT));\n            }\n        }\n        else if (!isOverFlow) {\n            this.destroyScroll();\n            if (this.activeLayout === 'Classic') {\n                var isBreak = false;\n                isBreak = this.removeOverflowDropdown(tabContent, activeContent, false, tabIndex);\n                //Check for expanding small items to medium items.\n                if (!isBreak && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupExpanding(tabIndex, tabContent, activeContent, true);\n                }\n                //Check for expanding medium items to large items.\n                if (!isBreak && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupExpanding(tabIndex, tabContent, activeContent, false);\n                }\n            }\n            else {\n                this.removeSimplfiedOverflow(tabContent, activeContent, tabIndex);\n                if (tabContent.offsetWidth > activeContent.offsetWidth) {\n                    this.checkSimplifiedItemExpanding(tabIndex, tabContent, activeContent);\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkSimplifiedItemShrinking = function (tabIndex, tabContent, activeContent) {\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var i = (tab.groups.length - 1); (i >= 0); i--) {\n            var group = tab.groups[parseInt(i.toString(), 10)];\n            var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = 0; ((j < group.collections.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    if (((item.allowedSizes & RibbonItemSize.Small) && (item.allowedSizes & RibbonItemSize.Medium))\n                        && (item.activeSize === RibbonItemSize.Medium) && (item.displayOptions & DisplayMode.Simplified)) {\n                        var itemContainer = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                        if (itemContainer) {\n                            var itemEle = itemContainer.querySelector('#' + item.id);\n                            itemContainer.setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n                            item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                            this.setItemSize(itemEle, item);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkSimplifiedItemExpanding = function (tabIndex, tabContent, activeContent) {\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var i = (tab.groups.length - 1); (i >= 0); i--) {\n            var group = tab.groups[parseInt(i.toString(), 10)];\n            var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = 0; ((j < group.collections.length) && (tabContent.offsetWidth > activeContent.offsetWidth)); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth > activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    if (((item.allowedSizes & RibbonItemSize.Small) && (item.allowedSizes & RibbonItemSize.Medium))\n                        && (item.activeSize === RibbonItemSize.Small) && (item.displayOptions & DisplayMode.Simplified)) {\n                        var itemContainer = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                        if (itemContainer) {\n                            var valString = itemContainer.getAttribute('data-medium-width');\n                            var value = valString ? parseInt(valString, 10) : null;\n                            if (value && (tabContent.offsetWidth > value)) {\n                                itemContainer.removeAttribute('data-medium-width');\n                                var itemEle = itemContainer.querySelector('#' + item.id);\n                                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                                this.setItemSize(itemEle, item);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createSimplfiedOverflow = function (tabContent, activeContent, tabIndex) {\n        var orderedGroups = this.getGroupResizeOrder(true, tabIndex);\n        for (var i = 0; ((i < orderedGroups.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); i++) {\n            var group = orderedGroups[parseInt(i.toString(), 10)];\n            var groupEle = tabContent.querySelector('#' + group.id);\n            var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = group.collections.length; ((j >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); j--) {\n                var collection = group.collections[parseInt((j - 1).toString(), 10)];\n                var collectionEle = groupEle.querySelector('#' + collection.id);\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    var itemContainer = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (((item.displayOptions === DisplayMode.Auto) ||\n                        (item.displayOptions === (DisplayMode.Simplified | DisplayMode.Overflow))) && !isNullOrUndefined(itemContainer)) {\n                        itemContainer.setAttribute('data-simplified-width', activeContent.offsetWidth.toString());\n                        this.createOverflowPopup(item, tabIndex, group.enableGroupOverflow, group.id, group.header, itemContainer, groupContainer);\n                        if (item.activeSize === RibbonItemSize.Small) {\n                            var itemEle = itemContainer.querySelector('#' + item.id);\n                            item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                            this.setItemSize(itemEle, item);\n                        }\n                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton)) {\n                            this.updatePopupItems(item, itemContainer, group.enableGroupOverflow, true);\n                        }\n                    }\n                }\n            }\n            if (!(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                groupEle.classList.add('e-ribbon-emptyCollection');\n            }\n        }\n    };\n    Ribbon.prototype.updatePopupItems = function (item, itemEle, isGroupOF, isMenu) {\n        var dropdown = getComponent(itemEle.querySelector('#' + item.id), (item.type === RibbonItemType.DropDown) ? DropDownButton : SplitButton);\n        var dropDownPopup = dropdown.dropDown;\n        // popup is on right if (isGroupOF && isMenu)\n        // The position is reversed if RTL is enabled.\n        // isRight = ((isGroupOF && isMenu) && !this.enableRtl ) || (!(isGroupOF && isMenu) && this.enableRtl)  ==> (isGroupOF && isMenu) !== this.enableRtl\n        var isLeft = (isGroupOF && isMenu) === this.enableRtl;\n        dropDownPopup.setProperties({ position: { X: isLeft ? 'left' : 'right', Y: isMenu ? 'top' : 'bottom' } }, true);\n        if (isMenu) {\n            dropdown.beforeOpen = function () {\n                if (isLeft) {\n                    dropDownPopup.element.style.setProperty('visibility', 'hidden');\n                    dropDownPopup.element.style.setProperty('display', 'block');\n                    dropDownPopup.setProperties({ offsetX: -1 * dropDownPopup.element.offsetWidth });\n                    dropDownPopup.element.style.removeProperty('display');\n                    dropDownPopup.element.style.removeProperty('visibility');\n                }\n            };\n        }\n        else {\n            dropDownPopup.setProperties({ offsetX: 0 }, true);\n            dropdown.beforeOpen = null;\n        }\n    };\n    Ribbon.prototype.removeSimplfiedOverflow = function (tabContent, activeContent, tabIndex, isClear) {\n        if (isClear === void 0) { isClear = false; }\n        var orderedGroups = this.getGroupResizeOrder(false, tabIndex);\n        var flag = true;\n        for (var i = 0; ((i < orderedGroups.length) && flag); i++) {\n            var group = orderedGroups[parseInt(i.toString(), 10)];\n            var overflowDDB = void 0;\n            var overflowtarget = void 0;\n            if (group.enableGroupOverflow) {\n                var overflowDDBEle = tabContent.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n            }\n            else {\n                overflowDDB = this.overflowDDB;\n                overflowtarget = this.overflowDDB ? this.overflowDDB.target : null;\n            }\n            for (var j = 0; ((j < group.collections.length) && flag); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                // eslint-disable-next-line max-len\n                for (var k = 0; ((k < collection.items.length) && flag && !isClear && (tabContent.offsetWidth > activeContent.offsetWidth)); k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemContainer = void 0;\n                    if (overflowtarget) {\n                        itemContainer = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    }\n                    if (((item.displayOptions === DisplayMode.Auto) ||\n                        (item.displayOptions === (DisplayMode.Simplified | DisplayMode.Overflow))) && !isNullOrUndefined(itemContainer)) {\n                        var width = parseInt(itemContainer.getAttribute('data-simplified-width'), 10);\n                        if (!isClear && (tabContent.offsetWidth < width)) {\n                            flag = false;\n                            break;\n                        }\n                        var groupEle_1 = tabContent.querySelector('#' + collection.id);\n                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton)) {\n                            this.updatePopupItems(item, itemContainer, group.enableGroupOverflow, false);\n                        }\n                        groupEle_1.append(itemContainer);\n                        this.removeOverflowEvent(item, itemContainer);\n                        if (item.allowedSizes & RibbonItemSize.Small) {\n                            item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                            this.setItemSize(itemContainer.querySelector('#' + item.id), item);\n                        }\n                    }\n                }\n            }\n            var groupEle = tabContent.querySelector('#' + group.id);\n            var itemEle = groupEle.querySelector('.' + constants.RIBBON_ITEM);\n            if (groupEle.classList.contains('e-ribbon-emptyCollection') && itemEle !== null) {\n                groupEle.classList.remove('e-ribbon-emptyCollection');\n            }\n            if (overflowDDB) {\n                if (group.enableGroupOverflow) {\n                    if (overflowtarget.childElementCount === 0) {\n                        this.removeOverflowButton(overflowDDB);\n                    }\n                }\n                else {\n                    var ofGroupContainer = overflowtarget.querySelector('#' + group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = overflowtarget.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                        this.overflowDDB.element.classList.add(constants.HIDE_CSS);\n                    }\n                }\n            }\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            if (overflowEle.childElementCount === 0) {\n                this.removeOverflowButton(this.overflowDDB);\n                this.overflowDDB = null;\n            }\n        }\n    };\n    Ribbon.prototype.createOverflowPopup = function (item, tabIndex, isGroupOF, groupId, groupHeader, itemEle, groupContainer) {\n        var overflowButton;\n        if (isGroupOF) {\n            var overflowDDB = groupContainer.querySelector('#' + groupId + constants.GROUPOF_BUTTON_ID);\n            if (!overflowDDB) {\n                overflowButton = this.addOverflowButton(groupId + constants.GROUPOF_BUTTON_ID);\n                overflowButton.element.classList.add(constants.RIBBON_GROUP_OF_BUTTON);\n                groupContainer.appendChild(overflowButton.element);\n            }\n            else {\n                overflowButton = getInstance(overflowDDB, DropDownButton);\n            }\n            overflowButton.target.append(itemEle);\n        }\n        else {\n            if (!this.overflowDDB) {\n                this.overflowDDB = this.addOverflowButton(this.tabObj.element.id + constants.OVRLOF_BUTTON_ID);\n                this.tabObj.element.insertBefore(this.overflowDDB.element, this.collapseButton);\n                this.overflowDDB.element.classList.add(constants.RIBBON_OVERALL_OF_BUTTON);\n                this.createOfTabContainer(groupId, groupHeader, itemEle, tabIndex);\n            }\n            else {\n                this.overflowDDB.element.classList.remove(constants.HIDE_CSS);\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    var ofGroupContainer = overflowEle.querySelector('#' + groupId + constants.CONTAINER_ID);\n                    if (!ofGroupContainer) {\n                        ofGroupContainer = this.createGroupContainer(groupId, groupHeader);\n                        ofTabContainer.append(ofGroupContainer);\n                    }\n                    ofGroupContainer.append(itemEle);\n                }\n                else {\n                    this.createOfTabContainer(groupId, groupHeader, itemEle, tabIndex);\n                }\n            }\n            overflowButton = this.overflowDDB;\n        }\n        if (itemEle !== null) {\n            this.addOverflowEvents(item, itemEle, overflowButton);\n        }\n    };\n    Ribbon.prototype.addOverflowEvents = function (item, itemEle, overflowButton) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n        }\n    };\n    Ribbon.prototype.createOfTabContainer = function (groupId, groupHeader, itemEle, tabIndex) {\n        var ofTabContainer = this.createElement('div', {\n            id: this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID,\n            className: constants.RIBBON_OF_TAB_CONTAINER\n        });\n        var overflowtarget = this.overflowDDB.target;\n        overflowtarget.append(ofTabContainer);\n        var ofGroupContainer = this.createGroupContainer(groupId, groupHeader);\n        ofGroupContainer.append(itemEle);\n        ofTabContainer.append(ofGroupContainer);\n        if (tabIndex === this.selectedTab) {\n            ofTabContainer.classList.add(constants.RIBBON_TAB_ACTIVE);\n        }\n    };\n    Ribbon.prototype.checkGroupShrinking = function (tabIndex, tabContent, activeContent, isLarge) {\n        var isOverFlow = true;\n        var isBreak = false;\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var j = (tab.groups.length - 1); (isOverFlow && (j >= 0)); j--) {\n            // eslint-disable-next-line max-len\n            isBreak = isLarge ? this.checkLargeToMedium(tabIndex, tab, j, tabContent, activeContent) : this.checkMediumToSmall(tabIndex, tab, j, tabContent, activeContent);\n            isOverFlow = !isBreak && (tabContent.offsetWidth < activeContent.offsetWidth);\n        }\n        return isBreak;\n    };\n    Ribbon.prototype.checkValidCollectionLength = function (collections) {\n        var count = 0;\n        for (var i = 0; i < collections.length; i++) {\n            var items = collections[parseInt(i.toString(), 10)].items;\n            for (var ind = 0; ind < items.length; ind++) {\n                if (items[parseInt(ind.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                    count++;\n                    break;\n                }\n            }\n            if (count > 1) {\n                return false;\n            }\n        }\n        return count === 1;\n    };\n    Ribbon.prototype.checkClassicCollection = function (collections, n, isIncrement) {\n        var items = collections[parseInt(n.toString(), 10)].items;\n        for (var ind = 0; ind < items.length; ind++) {\n            if (items[parseInt(ind.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                return n;\n            }\n        }\n        n = isIncrement ? n + 1 : n - 1;\n        if (isIncrement) {\n            return (n === collections.length) ? n : this.checkClassicCollection(collections, n, isIncrement);\n        }\n        else {\n            return (n < 0) ? n : this.checkClassicCollection(collections, n, isIncrement);\n        }\n    };\n    Ribbon.prototype.checkClassicItem = function (items, n, isIncrement) {\n        var item = items[parseInt(n.toString(), 10)];\n        if (item.displayOptions & DisplayMode.Classic) {\n            return n;\n        }\n        n = isIncrement ? n + 1 : n - 1;\n        if (isIncrement) {\n            return (n === items.length) ? n : this.checkClassicItem(items, n, isIncrement);\n        }\n        else {\n            return (n < 0) ? n : this.checkClassicItem(items, n, isIncrement);\n        }\n    };\n    Ribbon.prototype.checkLargeToMedium = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip) {\n        var _this = this;\n        if (shouldSkip === void 0) { shouldSkip = false; }\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        if (group.isCollapsed && !shouldSkip) {\n            return false;\n        }\n        var canReduceCollection = function (collection) {\n            return (collection.items.length === 1) && canReduceItem(collection.items[0]);\n        };\n        var canReduceItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Medium) && (item.activeSize === RibbonItemSize.Large);\n        };\n        var createShrinkEle = function (id, firstItem, start, end) {\n            var shrinkEle = _this.createElement('div', {\n                className: 'e-ribbon-shrink' + constants.SPACE + constants.RIBBON_ROW,\n                id: id + '_shrink_container' + start,\n                attrs: { 'data-start': start.toString(), 'data-end': end.toString() }\n            });\n            firstItem.parentElement.insertBefore(shrinkEle, firstItem);\n            if (!shouldSkip) {\n                shrinkEle.setAttribute('data-large-width', activeContent.offsetWidth.toString());\n            }\n            return shrinkEle;\n        };\n        var moveItemToColumn = function (start, end) {\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[0];\n            var firstItem = activeContent.querySelector('#' + collection.items[parseInt(start.toString(), 10)].id + constants.CONTAINER_ID);\n            var shrinkEle = shouldSkip ? activeContent.querySelector('#' + collection.id + '_shrink_container' + start) :\n                createShrinkEle(collection.id, firstItem, start, end);\n            for (var i = start; i <= end; i++) {\n                var item = collection.items[parseInt(i.toString(), 10)];\n                if (!(item.displayOptions & DisplayMode.Classic)) {\n                    continue;\n                }\n                var ele = activeContent.querySelector('#' + item.id + constants.CONTAINER_ID);\n                shrinkEle.appendChild(ele);\n                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                _this.setItemSize(ele.querySelector('#' + item.id), item);\n            }\n        };\n        var moveCollectionToColumn = function (start, end) {\n            var group = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)];\n            var firstItem = activeContent.querySelector('#' + group.collections[parseInt(start.toString(), 10)].id);\n            var shrinkEle = shouldSkip ? activeContent.querySelector('#' + group.id + '_shrink_container' + start) :\n                createShrinkEle(group.id, firstItem, start, end);\n            for (var i = start; i <= end; i++) {\n                var collection = group.collections[parseInt(i.toString(), 10)];\n                var ele = activeContent.querySelector('#' + collection.id);\n                shrinkEle.appendChild(ele);\n                collection.items[0].setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                _this.setItemSize(ele.querySelector('#' + collection.items[0].id), collection.items[0]);\n            }\n        };\n        var orientation = group.orientation;\n        if (orientation === ItemOrientation.Column) {\n            for (var k = (group.collections.length - 1); k > 0; k--) {\n                //to avoid negative index while checking for the second collection\n                k = this.checkClassicCollection(group.collections, k, false);\n                var l = k - 1;\n                //Checks the element rendered at position n\n                if ((l >= 0) && canReduceCollection(group.collections[parseInt(k.toString(), 10)])) {\n                    l = this.checkClassicCollection(group.collections, l, false);\n                    //Checks the element rendered at position n-1\n                    if ((l >= 0) && canReduceCollection(group.collections[parseInt(l.toString(), 10)])) {\n                        var m = l - 1;\n                        if (m >= 0) {\n                            m = this.checkClassicCollection(group.collections, m, false);\n                        }\n                        //Checks the element rendered at position n-2\n                        if ((m >= 0) && canReduceCollection(group.collections[parseInt(m.toString(), 10)])) {\n                            moveCollectionToColumn(m, k);\n                        }\n                        else {\n                            moveCollectionToColumn(l, k);\n                        }\n                        k = m;\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                    else {\n                        k = l;\n                    }\n                }\n            }\n        }\n        else {\n            if (this.checkValidCollectionLength(group.collections)) {\n                var collection = group.collections[0];\n                for (var k = (collection.items.length - 1); k > 0; k--) {\n                    //to avoid negative index while checking for the second item\n                    k = this.checkClassicItem(collection.items, k, false);\n                    var l = k - 1;\n                    //Checks the element rendered at position n\n                    if ((l >= 0) && canReduceItem(collection.items[parseInt(k.toString(), 10)])) {\n                        l = this.checkClassicItem(collection.items, l, false);\n                        //Checks the element rendered at position n-1\n                        if ((l >= 0) && canReduceItem(collection.items[parseInt(l.toString(), 10)])) {\n                            var m = l - 1;\n                            //Checks the element rendered at position n-2\n                            if (m >= 0) {\n                                m = this.checkClassicItem(collection.items, m, false);\n                            }\n                            if ((m >= 0) && canReduceItem(collection.items[parseInt(m.toString(), 10)])) {\n                                moveItemToColumn(m, k);\n                            }\n                            else {\n                                moveItemToColumn(l, k);\n                            }\n                            k = m;\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                        else {\n                            k = l;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkMediumToSmall = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip) {\n        var _this = this;\n        if (shouldSkip === void 0) { shouldSkip = false; }\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        if (group.isCollapsed && !shouldSkip) {\n            return false;\n        }\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        var canReduceItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Small) && (item.activeSize === RibbonItemSize.Medium);\n        };\n        var reduceItemsToSmall = function (collectionIndex, start, end, middle) {\n            if (middle === void 0) { middle = null; }\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[parseInt(collectionIndex.toString(), 10)];\n            var reduce = function (i) {\n                var item = collection.items[parseInt(i.toString(), 10)];\n                if (item.displayOptions & DisplayMode.Classic) {\n                    var ele_1 = activeContent.querySelector('#' + item.id);\n                    item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                    _this.setItemSize(ele_1, item);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n        };\n        var reduceCollectionsToSmall = function (index, start, end, middle) {\n            if (middle === void 0) { middle = null; }\n            var group = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)];\n            if (!shouldSkip) {\n                shrinkColumns[parseInt(index.toString(), 10)].setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n            }\n            var reduce = function (i) {\n                var collection = group.collections[parseInt(i.toString(), 10)];\n                if (collection.items[0].displayOptions & DisplayMode.Classic) {\n                    var ele_2 = activeContent.querySelector('#' + collection.items[0].id);\n                    collection.items[0].setProperties({ activeSize: RibbonItemSize.Small }, true);\n                    _this.setItemSize(ele_2, collection.items[0]);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n        };\n        var setWidth = function (id) {\n            if (!shouldSkip) {\n                var ele_3 = activeContent.querySelector('#' + id);\n                ele_3.setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n            }\n        };\n        if (orientation === ItemOrientation.Column) {\n            if (shrinkColumns.length > 0) {\n                for (var k = (shrinkColumns.length - 1); k >= 0; k--) {\n                    var start = parseInt(shrinkColumns[parseInt(k.toString(), 10)].getAttribute('data-start'), 10);\n                    var end = parseInt(shrinkColumns[parseInt(k.toString(), 10)].getAttribute('data-end'), 10);\n                    //only 2 or 3 itmes alone can be present in shrinked column\n                    var l = this.checkClassicCollection(group.collections, start + 1, false); //next valid item\n                    if (canReduceItem(group.collections[parseInt(start.toString(), 10)].items[0])\n                        && canReduceItem(group.collections[parseInt(l.toString(), 10)].items[0])) {\n                        if (end === l) { //if only 2 item, then next valid item will be the end item, else check for 3 rd item satus.\n                            reduceCollectionsToSmall(k, start, end);\n                        }\n                        else if (canReduceItem(group.collections[parseInt(end.toString(), 10)].items[0])) {\n                            reduceCollectionsToSmall(k, start, end, l);\n                        }\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            for (var k = (group.collections.length - 1); k >= 0; k--) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                var classicItems = [];\n                for (var i = 0; i < collection.items.length; i++) {\n                    if (collection.items[parseInt(i.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                        classicItems.push(i);\n                    }\n                }\n                //If items length is 1 then, it would have been already check for shrinked column\n                if ((classicItems.length > 1)) {\n                    if (canReduceItem(collection.items[classicItems[0]]) && canReduceItem(collection.items[classicItems[1]])) {\n                        if (classicItems.length === 2) {\n                            setWidth(collection.id);\n                            reduceItemsToSmall(k, classicItems[0], classicItems[1]);\n                        }\n                        else if (canReduceItem(collection.items[classicItems[2]])) {\n                            setWidth(collection.id);\n                            reduceItemsToSmall(k, classicItems[0], classicItems[2], classicItems[1]);\n                        }\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.checkValidCollectionLength(group.collections)) {\n                if (shrinkColumns.length > 0) {\n                    for (var k = (shrinkColumns.length - 1); k >= 0; k--) {\n                        var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n                        var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                        var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                        //only 2 or 3 itmes alone can be present in shrinked column\n                        var collection = group.collections[0];\n                        var l = this.checkClassicItem(collection.items, start + 1, false); //next valid item\n                        if (canReduceItem(group.collections[0].items[parseInt(start.toString(), 10)])\n                            && canReduceItem(group.collections[0].items[parseInt(l.toString(), 10)])) {\n                            if (end === l) { //if only 2 item, then next valid item will be the end item, else check for 3 rd item satus.\n                                setWidth(shrinkColumn.id);\n                                reduceItemsToSmall(0, start, end);\n                            }\n                            else if (canReduceItem(group.collections[0].items[parseInt(end.toString(), 10)])) {\n                                setWidth(shrinkColumn.id);\n                                reduceItemsToSmall(0, start, end, l);\n                            }\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                for (var k = (group.collections.length - 1); k >= 0; k--) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    for (var l = (collection.items.length - 1); l >= 0; l--) {\n                        l = this.checkClassicItem(collection.items, l, false);\n                        if (l < 0) {\n                            continue;\n                        }\n                        var item = collection.items[parseInt(l.toString(), 10)];\n                        if (canReduceItem(item)) {\n                            setWidth(item.id);\n                            reduceItemsToSmall(k, l, l);\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkGroupExpanding = function (tabIndex, tabContent, activeContent, isSmall) {\n        var isBreak = false;\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var j = 0; (!isBreak && (j < tab.groups.length)); j++) {\n            isBreak = isSmall ? this.checkSmallToMedium(tabIndex, tab, j, tabContent, activeContent, false, true) :\n                this.checkMediumToLarge(tabIndex, tab, j, tabContent, activeContent, false, true);\n        }\n        return isBreak;\n    };\n    // eslint-disable-next-line max-len\n    Ribbon.prototype.checkSmallToMedium = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip, shouldClear) {\n        var _this = this;\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        var canExpandItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Medium) && (item.activeSize === RibbonItemSize.Small);\n        };\n        var expandItemToMedium = function (collectionIndex, index, parentEle) {\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[parseInt(collectionIndex.toString(), 10)];\n            var item = collection.items[parseInt(index.toString(), 10)];\n            if (item.displayOptions & DisplayMode.Classic) {\n                var ele_4 = parentEle.id === item.id ? parentEle : parentEle.querySelector('#' + item.id);\n                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                _this.setItemSize(ele_4, item);\n            }\n        };\n        var expandCollectionsToMedium = function (i) {\n            var collections = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections;\n            var item = collections[parseInt(i.toString(), 10)].items[0];\n            if (item.displayOptions & DisplayMode.Classic) {\n                var ele_5 = activeContent.querySelector('#' + collections[parseInt(i.toString(), 10)].items[0].id);\n                collections[parseInt(i.toString(), 10)].items[0].setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                _this.setItemSize(ele_5, collections[parseInt(i.toString(), 10)].items[0]);\n            }\n        };\n        if (orientation === ItemOrientation.Row) {\n            // collection length is 1, then the it wll be covered in shrinked columns\n            if (!this.checkValidCollectionLength(group.collections)) {\n                for (var k = 0; k < group.collections.length; k++) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    for (var l = 0; l < collection.items.length; l++) {\n                        l = this.checkClassicItem(collection.items, l, true);\n                        if (l === collection.items.length) {\n                            continue;\n                        }\n                        var item = collection.items[parseInt(l.toString(), 10)];\n                        if (canExpandItem(item)) {\n                            var itemEle = activeContent.querySelector('#' + item.id);\n                            var valString = itemEle.getAttribute('data-medium-width');\n                            var value = valString ? parseInt(valString, 10) : null;\n                            if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                                expandItemToMedium(k, l, itemEle);\n                                if (!shouldSkip || shouldClear) {\n                                    itemEle.removeAttribute('data-medium-width');\n                                }\n                            }\n                            else if (value) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            for (var k = 0; k < group.collections.length; k++) {\n                //If items length is 1 then, it will be handled in shrinked column\n                if ((group.collections[parseInt(k.toString(), 10)].items.length > 1)) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    var itemEle = activeContent.querySelector('#' + collection.id);\n                    var valString = itemEle.getAttribute('data-medium-width');\n                    var value = valString ? parseInt(valString, 10) : null;\n                    var classicItems = [];\n                    for (var i = 0; i < collection.items.length; i++) {\n                        if (collection.items[parseInt(i.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                            classicItems.push(i);\n                        }\n                    }\n                    if ((classicItems.length > 1) && value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                        expandItemToMedium(k, classicItems[0], itemEle);\n                        expandItemToMedium(k, classicItems[1], itemEle);\n                        if (classicItems.length === 3) {\n                            expandItemToMedium(k, classicItems[2], itemEle);\n                        }\n                        if (!shouldSkip || shouldClear) {\n                            itemEle.removeAttribute('data-medium-width');\n                        }\n                    }\n                    else if (value) {\n                        return true;\n                    }\n                }\n            }\n        }\n        if (shrinkColumns.length > 0) {\n            for (var k = 0; k < shrinkColumns.length; k++) {\n                var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n                var valString = shrinkColumn.getAttribute('data-medium-width');\n                var value = valString ? parseInt(valString, 10) : null;\n                if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                    var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                    var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                    if (orientation === ItemOrientation.Row) {\n                        var collection = group.collections[0];\n                        var l = this.checkClassicItem(collection.items, start + 1, true); //next valid item\n                        expandItemToMedium(0, start, shrinkColumn);\n                        expandItemToMedium(0, l, shrinkColumn);\n                        // if l == end, then l is the last item, else L is the middle item. If l is middle then call the method for end.\n                        if (l !== end) {\n                            expandItemToMedium(0, end, shrinkColumn);\n                        }\n                    }\n                    else {\n                        var m = this.checkClassicCollection(group.collections, start + 1, true); //next valid item\n                        expandCollectionsToMedium(start);\n                        expandCollectionsToMedium(m);\n                        if (m !== end) {\n                            expandCollectionsToMedium(end);\n                        }\n                    }\n                    if (!shouldSkip || shouldClear) {\n                        shrinkColumn.removeAttribute('data-medium-width');\n                    }\n                }\n                else if (value) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkMediumToLarge = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip, shouldClear) {\n        var _this = this;\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        if (shrinkColumns.length === 0) {\n            return false;\n        }\n        var expandItemsToLarge = function (start, end, parentEle, middle) {\n            var items = _this.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].collections[0].items;\n            var reduce = function (i) {\n                var item = items[parseInt(i.toString(), 10)];\n                if (item.displayOptions & DisplayMode.Classic) {\n                    var container = parentEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    var ele_6 = container.querySelector('#' + item.id);\n                    item.setProperties({ activeSize: RibbonItemSize.Large }, true);\n                    _this.setItemSize(ele_6, item);\n                    parentEle.insertAdjacentElement('afterend', container);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n            if (!shouldSkip || shouldClear) {\n                remove(parentEle);\n            }\n        };\n        var expandCollectionsToLarge = function (start, end, parentEle, middle) {\n            var collections = _this.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].collections;\n            var reduce = function (i) {\n                var collection = collections[parseInt(i.toString(), 10)];\n                if (collection.items[0].displayOptions & DisplayMode.Classic) {\n                    var collectionEle = parentEle.querySelector('#' + collection.id);\n                    var ele_7 = collectionEle.querySelector('#' + collection.items[0].id);\n                    collection.items[0].setProperties({ activeSize: RibbonItemSize.Large }, true);\n                    _this.setItemSize(ele_7, collection.items[0]);\n                    parentEle.insertAdjacentElement('afterend', collectionEle);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n            if (!shouldSkip || shouldClear) {\n                remove(parentEle);\n            }\n        };\n        for (var k = 0; k < shrinkColumns.length; k++) {\n            var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n            var valString = shrinkColumn.getAttribute('data-large-width');\n            var value = valString ? parseInt(valString, 10) : null;\n            if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                if (orientation === ItemOrientation.Row) {\n                    var collection = group.collections[0];\n                    var l = this.checkClassicItem(collection.items, start + 1, true); //next valid item\n                    if (l === end) {\n                        expandItemsToLarge(start, end, shrinkColumn);\n                    }\n                    else {\n                        expandItemsToLarge(start, end, shrinkColumn, l);\n                    }\n                }\n                else {\n                    var m = this.checkClassicCollection(group.collections, start + 1, true); //next valid item\n                    if (m === end) {\n                        expandCollectionsToLarge(start, end, shrinkColumn);\n                    }\n                    else {\n                        expandCollectionsToLarge(start, end, shrinkColumn, m);\n                    }\n                }\n                if (!shouldSkip || shouldClear) {\n                    shrinkColumn.removeAttribute('data-large-width');\n                }\n            }\n            else if (value) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.setItemSize = function (itemEle, item) {\n        var itemContainer = itemEle.closest('.' + constants.RIBBON_ITEM);\n        if (item.type === RibbonItemType.Button) {\n            this.ribbonButtonModule.updateButtonSize(itemEle, item);\n        }\n        else if (item.type === RibbonItemType.DropDown) {\n            this.ribbonDropDownModule.updateDropDownSize(itemEle, item);\n        }\n        else if (item.type === RibbonItemType.SplitButton) {\n            this.ribbonSplitButtonModule.updateSplitButtonSize(itemEle, item);\n        }\n        else if (item.type === RibbonItemType.Template) {\n            remove(itemEle);\n            this.createTemplateContent(item, itemContainer);\n        }\n        itemContainer.classList.remove(constants.RIBBON_CONTENT_HEIGHT, constants.RIBBON_LARGE_ITEM, constants.RIBBON_MEDIUM_ITEM, constants.RIBBON_SMALL_ITEM);\n        if (item.activeSize === RibbonItemSize.Large) {\n            itemContainer.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n        }\n        else {\n            itemContainer.classList.add((item.activeSize === RibbonItemSize.Medium) ?\n                constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n        }\n    };\n    Ribbon.prototype.createOverflowDropdown = function (tabIndex, tabContent, activeContent) {\n        var collapseOrder = this.getGroupResizeOrder(true, tabIndex);\n        if (collapseOrder.length === 0) {\n            return;\n        }\n        var _loop_1 = function (i) {\n            var group = collapseOrder[parseInt(i.toString(), 10)];\n            var groupEle = this_1.tabObj.element.querySelector('#' + group.id);\n            groupEle.setAttribute('data-expanded-width', activeContent.offsetWidth.toString());\n            var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n            var groupOverFlow = this_1.createElement('div', {\n                className: constants.RIBBON_GROUP_OVERFLOW + constants.SPACE + constants.RIBBON_LARGE_ITEM,\n                id: group.id + constants.OVERFLOW_ID + constants.CONTAINER_ID\n            });\n            groupEle.insertBefore(groupOverFlow, groupContainer);\n            var groupIndex = getIndex(this_1.tabs[parseInt(tabIndex.toString(), 10)].groups, function (e) { return e.id === group.id; });\n            var tab = this_1.tabs[parseInt(tabIndex.toString(), 10)];\n            //Expanding the items in the group to their original expanded state\n            this_1.checkSmallToMedium(tabIndex, tab, groupIndex, tabContent, activeContent, true, false);\n            this_1.checkMediumToLarge(tabIndex, tab, groupIndex, tabContent, activeContent, true, false);\n            var dropdown = this_1.ribbonDropDownModule.createOverFlowDropDown(group.id, group.header, group.groupIconCss, groupContainer, groupOverFlow, this_1.enableRtl);\n            this_1.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].setProperties({ isCollapsed: true }, true);\n            for (var j = 0; j < group.collections.length; j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                var collectionEle = groupContainer.querySelector('#' + collection.id);\n                for (var k = 0; k < collection.items.length; k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemEle = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (itemEle !== null) {\n                        this_1.addOverflowEvents(item, itemEle, dropdown);\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; ((i < collapseOrder.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); i++) {\n            _loop_1(i);\n        }\n    };\n    // eslint-disable-next-line max-len\n    Ribbon.prototype.removeOverflowDropdown = function (tabContent, activeContent, isClear, tabIndex) {\n        if (isClear === void 0) { isClear = false; }\n        var expandOrder = this.getGroupResizeOrder(false, tabIndex);\n        if (expandOrder.length === 0) {\n            return false;\n        }\n        var _loop_2 = function (i) {\n            var group = expandOrder[parseInt(i.toString(), 10)];\n            var groupEle = this_2.tabObj.element.querySelector('#' + group.id);\n            if (!groupEle) {\n                return \"break\";\n            } //to handle the rerendering of tabcontrol when a ribbon tab is added/removed\n            var width = parseInt(groupEle.getAttribute('data-expanded-width'), 10);\n            if (!isClear && (tabContent.offsetWidth < width)) {\n                return { value: true };\n            }\n            this_2.removeDropdown(group.id);\n            var groupIndex = getIndex(this_2.tabs[parseInt(tabIndex.toString(), 10)].groups, function (e) { return e.id === group.id; });\n            this_2.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].setProperties({ isCollapsed: false }, true);\n            var tab = this_2.tabs[parseInt(tabIndex.toString(), 10)];\n            //Shrinking the items in the group to their previous shrinked state (before moving to dropdown)\n            this_2.checkLargeToMedium(tabIndex, tab, groupIndex, tabContent, activeContent, true);\n            this_2.checkMediumToSmall(tabIndex, tab, groupIndex, tabContent, activeContent, true);\n            for (var j = 0; j < group.collections.length; j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                var collectionEle = groupEle.querySelector('#' + collection.id);\n                for (var k = 0; k < collection.items.length; k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemEle = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (itemEle !== null) {\n                        this_2.removeOverflowEvent(item, itemEle);\n                    }\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < expandOrder.length; i++) {\n            var state_1 = _loop_2(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n            if (state_1 === \"break\")\n                break;\n        }\n        return false;\n    };\n    Ribbon.prototype.removeDropdown = function (groupId) {\n        var dropdownElement = this.tabObj.element.querySelector('#' + groupId + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n        if (dropdownElement) {\n            var groupOverFlow = dropdownElement.parentElement;\n            this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n            remove(groupOverFlow);\n        }\n    };\n    Ribbon.prototype.getGroupResizeOrder = function (isCollapse, tabIndex) {\n        var _this = this;\n        var groups = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n        groups = groups.filter(function (e) {\n            // (isUndefined(e.isCollapsible) || e.isCollapsible) => check whethe rhte item is collapsible\n            // if a isCollapsed property is undefined, then it is considered collapsible and included in collapsible list\n            // ((isCollapse && !e.isCollapsed)||(!isCollapse && e.isCollapsed)) => isCollapse !== e.isCollapsed\n            return (_this.activeLayout === 'Classic') ? (isUndefined(e.isCollapsible) || e.isCollapsible) && ((isCollapse &&\n                isUndefined(e.isCollapsed)) || (!isUndefined(e.isCollapsed) && (isCollapse !== e.isCollapsed))) : true;\n        });\n        //sort the collapsible groups based on the priority\n        groups.sort(function (a, b) { return a.priority - b.priority; });\n        //reverse the sorted array to return the array in descending order while collapsing.\n        return isCollapse ? groups.reverse() : groups;\n    };\n    Ribbon.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Ribbon.prototype.clearOverflowDropDown = function (index) {\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(index.toString(), 10)].id + constants.CONTENT_ID);\n        if (!activeContent) {\n            return;\n        }\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        if (this.activeLayout === 'Simplified') {\n            this.removeSimplfiedOverflow(activeContent, tabContent, index, true);\n        }\n        else {\n            this.removeOverflowDropdown(activeContent, tabContent, true, index);\n        }\n    };\n    Ribbon.prototype.ribbonTabSelecting = function (e) {\n        var _this = this;\n        this.currentControlIndex = 0;\n        var nextTabId = e.selectingItem.getAttribute('data-id');\n        var previousTabId = e.previousItem.getAttribute('data-id');\n        var nextIndex = getIndex(this.tabs, (function (tab) { return (tab.id === nextTabId); }));\n        var previousIndex = getIndex(this.tabs, (function (tab) { return (tab.id === previousTabId); }));\n        nextIndex = nextIndex === -1 ? this.selectedTab : nextIndex;\n        var eventArgs = {\n            cancel: e.cancel, isInteracted: e.isInteracted, previousIndex: previousIndex, selectedIndex: nextIndex\n        };\n        this.trigger('tabSelecting', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.destroyScroll();\n            if (!_this.isAddRemove && (previousIndex !== -1)) {\n                _this.clearOverflowDropDown(previousIndex);\n            }\n            var selectedTabContent = _this.tabObj.items[parseInt(nextIndex.toString(), 10)].content;\n            if ((!selectedTabContent.querySelector('.' + constants.RIBBON_GROUP)) && (_this.tabs[parseInt(nextIndex.toString(), 10)].groups.length !== 0)) {\n                var elements = _this.createGroups(_this.tabs[parseInt(nextIndex.toString(), 10)].groups, nextIndex);\n                append(elements, selectedTabContent);\n            }\n        });\n    };\n    Ribbon.prototype.createTabItems = function (tabs) {\n        var _this = this;\n        var tabItems = [];\n        for (var i = 0; i < tabs.length; i++) {\n            var ribbonTab = tabs[parseInt(i.toString(), 10)];\n            var header = this.createElement('span', {\n                innerHTML: ribbonTab.header,\n                id: ribbonTab.id + constants.HEADER_ID\n            });\n            header.onclick = function () { _this.minimize(false); };\n            header.ondblclick = function () { _this.minimize(true); };\n            var tab = { header: { text: header }, id: ribbonTab.id, cssClass: ribbonTab.cssClass };\n            var content = this.createElement('div', {\n                className: tab.cssClass,\n                id: ribbonTab.id + constants.CONTENT_ID\n            });\n            content.classList.add(constants.RIBBON_TAB_ITEM);\n            tab.content = content;\n            tabItems.push(tab);\n        }\n        return tabItems;\n    };\n    Ribbon.prototype.renderInitialTab = function (index) {\n        var elements = this.createGroups(this.tabs[parseInt(index.toString(), 10)].groups, index);\n        var content = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        append(elements, content);\n        if (this.activeLayout === 'Simplified') {\n            this.element.classList.add(constants.RIBBON_SIMPLIFIED_MODE);\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n    };\n    Ribbon.prototype.addOverflowButton = function (btnId) {\n        var _this = this;\n        var overflowButton = this.createElement('button', {\n            id: btnId\n        });\n        var overflowTarget = this.createElement('div', {\n            className: constants.RIBBON_OVERFLOW_TARGET,\n            attrs: { 'tabindex': '0' }\n        });\n        var overflowDDB = new DropDownButton({\n            iconCss: constants.OVERFLOW_ICON,\n            cssClass: constants.DROPDOWNBUTTON_HIDE + constants.SPACE + constants.RIBBON_GROUP_OVERFLOW_DDB,\n            target: overflowTarget,\n            locale: this.locale,\n            enableRtl: this.enableRtl,\n            enablePersistence: this.enablePersistence,\n            beforeClose: function (args) {\n                var ele = args.event ? closest(args.event.target, '.' + constants.RIBBON_POPUP_CONTROL) : null;\n                if (ele) {\n                    args.cancel = true;\n                }\n            }\n        }, overflowButton);\n        this.element.classList.add(constants.RIBBON_OVERFLOW);\n        createTooltip(overflowTarget, this);\n        var isGroupOf;\n        overflowButton.onkeydown = overflowButton.onclick = function () { _this.itemIndex = -1; isGroupOf = overflowButton.classList.contains('e-ribbon-overall-of-btn') ? false : true; };\n        overflowTarget.onkeydown = function (e) { return (_this.upDownKeyHandler(e, overflowTarget, isGroupOf), _this); };\n        return overflowDDB;\n    };\n    Ribbon.prototype.upDownKeyHandler = function (e, target, isGroupOf) {\n        var items;\n        if (isGroupOf) {\n            items = target.getElementsByClassName('e-ribbon-item');\n        }\n        else {\n            var currentList = target.querySelector('.e-ribbon-of-tab.e-ribbon-active');\n            items = currentList.getElementsByClassName('e-ribbon-item');\n        }\n        var comboBoxEle = items[(!this.itemIndex || this.itemIndex < 0) ? 0 : this.itemIndex].querySelector('.e-control').classList.contains('e-combobox') ? items[(!this.itemIndex || this.itemIndex < 0) ? 0 : this.itemIndex].querySelector('.e-combobox') : null;\n        var ribbonItem;\n        if (comboBoxEle === null || (e.key === 'Tab') || this.itemIndex < 0) {\n            if (e.key === 'ArrowDown' || (!e.shiftKey && e.key === 'Tab')) {\n                if ((!this.itemIndex && this.itemIndex !== 0) || this.itemIndex < 0 || this.itemIndex === items.length - 1) {\n                    this.itemIndex = 0;\n                    ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                    this.findDisabledItem(ribbonItem, items, true);\n                    if (comboBoxEle && e.key === 'Tab') {\n                        e.preventDefault();\n                        items[this.itemIndex].querySelector('.e-control').focus();\n                    }\n                }\n                else if (this.itemIndex < items.length - 1 && this.itemIndex >= 0) {\n                    this.itemIndex++;\n                    ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                    this.findDisabledItem(ribbonItem, items, true);\n                }\n            }\n            else if (e.key === 'ArrowUp' || (e.shiftKey && e.key === 'Tab')) {\n                if (comboBoxEle === null || (e.key === 'Tab')) {\n                    if (!this.itemIndex || this.itemIndex === -1) {\n                        this.itemIndex = items.length - 1;\n                        ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                        this.findDisabledItem(ribbonItem, items, false);\n                        if (comboBoxEle && (e.shiftKey && e.key === 'Tab')) {\n                            e.preventDefault();\n                            items[this.itemIndex].querySelector('.e-control').focus();\n                        }\n                    }\n                    else if (this.itemIndex <= items.length - 1 && this.itemIndex > 0) {\n                        this.itemIndex--;\n                        ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                        this.findDisabledItem(ribbonItem, items, false);\n                    }\n                }\n            }\n            target.setAttribute('index', this.itemIndex.toString());\n        }\n        var currentItemIndex = parseInt(target.getAttribute('index'), 10);\n        var itemType = items[parseInt(currentItemIndex.toString(), 10)] ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').getAttribute('data-control') : null;\n        if (e.key === 'ArrowDown' || e.key === 'ArrowUp' || e.key === ' ' || e.key === 'Tab') {\n            if (itemType === 'ColorPicker') {\n                if (e.key === 'Tab') {\n                    e.preventDefault();\n                }\n                items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-split-colorpicker').focus();\n            }\n            else {\n                if (e.key === 'Tab') {\n                    e.preventDefault();\n                }\n                items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus();\n            }\n            if (e.key === ' ' && (itemType === 'CheckBox')) {\n                var checkBoxEle = items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control');\n                var checkBox = getComponent(checkBoxEle, CheckBox);\n                this.itemIndex = -1;\n                checkBox.click();\n            }\n        }\n        if (((itemType === 'SplitButton') && (e.key === 'ArrowRight' || e.key === 'ArrowLeft'))) {\n            if (e.key === 'ArrowRight') {\n                this.enableRtl ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus() :\n                    items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-dropdown-btn').focus();\n            }\n            if (e.key === 'ArrowLeft') {\n                this.enableRtl ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-dropdown-btn').focus() :\n                    items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus();\n            }\n        }\n        if (e.key === 'Enter') {\n            this.itemIndex = -1;\n        }\n    };\n    Ribbon.prototype.findDisabledItem = function (ribbonItem, items, isIncrease) {\n        while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n            if (isIncrease) {\n                if (this.itemIndex === items.length - 1 && items[this.itemIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                    this.itemIndex = -1;\n                }\n            }\n            else {\n                if (this.itemIndex === 0 && items[this.itemIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                    this.itemIndex = items.length;\n                }\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            isIncrease ? this.itemIndex++ : this.itemIndex--;\n            ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        }\n    };\n    Ribbon.prototype.removeOverflowButton = function (overflowDDB) {\n        if (overflowDDB) {\n            var btnEle = overflowDDB.element;\n            destroyTooltip(overflowDDB.target);\n            overflowDDB.destroy();\n            btnEle.remove();\n        }\n    };\n    Ribbon.prototype.removeOverflowEvent = function (item, itemEle) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.removeOverFlowEvents(item, itemEle);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.removeOverFlowEvents(item, itemEle);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.removeOverFlowEvents(item, itemEle);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.removeOverFlowEvents(item, itemEle);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.removeOverFlowEvents(item, itemEle);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.removeOverFlowEvents(item, itemEle);\n                break;\n        }\n    };\n    Ribbon.prototype.createGroupContainer = function (groupId, groupHeader) {\n        var ofGroupContainer = this.createElement('div', {\n            className: constants.RIBBON_OF_GROUP_CONTAINER,\n            id: groupId + constants.CONTAINER_ID\n        });\n        var ofGroupHeader = this.createElement('div', {\n            className: constants.RIBBON_OVERFLOW_HEADER,\n            id: groupId + constants.HEADER_ID,\n            innerHTML: groupHeader\n        });\n        ofGroupContainer.append(ofGroupHeader);\n        return ofGroupContainer;\n    };\n    Ribbon.prototype.addExpandCollapse = function () {\n        var _this = this;\n        this.collapseButton = this.createElement('span', {\n            className: constants.RIBBON_COLLAPSE_BUTTON + constants.SPACE + constants.EXPAND_COLLAPSE_ICON,\n            id: this.tabObj.element.id + constants.COLLAPSE_BUTTON_ID,\n            attrs: { 'tabindex': '0', 'type': 'button', 'aria-label': 'Layout Switcher', 'role': 'button' }\n        });\n        this.collapseButton.onclick = function () { _this.toggleLayout(); };\n        this.collapseButton.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                _this.toggleLayout();\n            }\n        };\n        this.element.classList.add(constants.RIBBON_COLLAPSIBLE);\n        if (this.activeLayout === 'Simplified') {\n            this.collapseButton.classList.add(constants.RIBBON_EXPAND_BUTTON);\n        }\n        this.tabObj.element.appendChild(this.collapseButton);\n    };\n    Ribbon.prototype.removeExpandCollapse = function () {\n        var _this = this;\n        var index = getIndex(this.tooltipData, function (e) { return e.id === _this.collapseButton.id; });\n        if (index !== -1) {\n            this.tooltipData.splice(index, 1);\n        }\n        this.element.classList.remove(constants.RIBBON_COLLAPSIBLE);\n        remove(this.tabObj.element.querySelector('.' + constants.RIBBON_COLLAPSE_BUTTON));\n        this.collapseButton = null;\n    };\n    Ribbon.prototype.reRenderTabs = function () {\n        this.destroyScroll();\n        this.destroyTabItems(this.tabsInternal);\n        this.checkID(this.tabs, 'tab', this.element.id);\n        this.tabsInternal = this.tabs.slice();\n        this.validateItemSize();\n        var tabItems = this.createTabItems(this.tabs);\n        if (this.selectedTab >= this.tabs.length) {\n            this.selectedTab = this.tabs.length - 1;\n        }\n        this.tabObj.setProperties({ items: tabItems, selectedItem: this.selectedTab });\n        var contentEle = this.tabObj.items[this.selectedTab].content;\n        if (contentEle.innerHTML === '') {\n            this.renderInitialTab(this.selectedTab);\n        }\n    };\n    Ribbon.prototype.switchLayout = function () {\n        this.currentControlIndex = 0;\n        this.destroyScroll();\n        this.collapseButton.classList.toggle(constants.RIBBON_EXPAND_BUTTON, this.activeLayout === 'Simplified');\n        this.element.classList.toggle(constants.RIBBON_SIMPLIFIED_MODE, this.activeLayout === 'Simplified');\n        for (var i = 0; i <= (this.tabs.length - 1); i++) {\n            var tabIndex = i;\n            var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n            if (contentEle.innerHTML !== '') {\n                var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n                var groupList = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n                var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.CONTENT_ID);\n                var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n                if (this.activeLayout === 'Simplified') {\n                    for (var i_1 = 0; i_1 < groupList.length; i_1++) {\n                        var group = groupList[parseInt(i_1.toString(), 10)];\n                        var alignType = groupList[parseInt(i_1.toString(), 10)].orientation;\n                        if (group.isCollapsed) {\n                            group.setProperties({ isCollapsed: false }, true);\n                            this.removeDropdown(group.id);\n                        }\n                        else {\n                            this.checkSmallToMedium(tabIndex, tab, i_1, tabContent, activeContent, true, false);\n                            this.checkMediumToLarge(tabIndex, tab, i_1, tabContent, activeContent, true, false);\n                        }\n                        var groupEle = tabContent.querySelector('#' + group.id);\n                        var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n                        var shrinkColumns = groupContainer.querySelectorAll('.' + 'e-ribbon-shrink');\n                        for (var i_2 = 0; i_2 < shrinkColumns.length; i_2++) {\n                            shrinkColumns[parseInt(i_2.toString(), 10)].remove();\n                        }\n                        var groupHeader = groupContainer.querySelector('#' + group.id + constants.HEADER_ID);\n                        groupHeader.remove();\n                        var groupContent = groupContainer.querySelector('#' + group.id + constants.CONTENT_ID);\n                        groupContent.classList.replace(constants.RIBBON_ROW, constants.RIBBON_COLUMN);\n                        groupContent.classList.remove(constants.RIBBON_CONTENT_HEIGHT);\n                        for (var j = 0; j < group.collections.length; j++) {\n                            var collection = group.collections[parseInt(j.toString(), 10)];\n                            var groupCollection = groupContainer.querySelector('#' + collection.id);\n                            groupCollection.classList.replace(constants.RIBBON_ROW, constants.RIBBON_COLUMN);\n                            for (var k = 0; k < collection.items.length; k++) {\n                                var itemList = collection.items;\n                                var item = collection.items[parseInt(k.toString(), 10)];\n                                var flag = true;\n                                while ((flag) && (item.displayOptions === DisplayMode.Classic)) {\n                                    k++;\n                                    var itemEle_1 = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    var ele = itemEle_1.querySelector('#' + item.id);\n                                    this.destroyFunction(item, ele);\n                                    itemEle_1.remove();\n                                    if (k < itemList.length) {\n                                        item = itemList[parseInt(k.toString(), 10)];\n                                    }\n                                    else {\n                                        flag = false;\n                                    }\n                                }\n                                if (!flag) {\n                                    break;\n                                }\n                                var size = ((item.allowedSizes === RibbonItemSize.Large) ||\n                                    (item.allowedSizes & RibbonItemSize.Medium)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                                size = (!(item.displayOptions & DisplayMode.Simplified) && (item.displayOptions & DisplayMode.Overflow))\n                                    ? RibbonItemSize.Medium : size;\n                                var itemEle = void 0;\n                                if (!(item.displayOptions & DisplayMode.Classic)) {\n                                    itemEle = this.createItems([item], alignType, group.id, group.header, group.enableGroupOverflow, tabIndex, groupContainer)[0];\n                                    if (item.displayOptions & DisplayMode.Simplified) {\n                                        groupCollection.append(itemEle);\n                                    }\n                                }\n                                else {\n                                    itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    if (item.displayOptions === (DisplayMode.Classic | DisplayMode.Overflow)) {\n                                        this.createOverflowPopup(item, tabIndex, group.enableGroupOverflow, group.id, group.header, itemEle, groupContainer);\n                                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton)) {\n                                            this.updatePopupItems(item, itemEle, group.enableGroupOverflow, true);\n                                        }\n                                    }\n                                    item.setProperties({ activeSize: size }, true);\n                                    var ele = itemEle.querySelector('#' + item.id);\n                                    this.setItemSize(ele, item);\n                                }\n                            }\n                        }\n                        if (!(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                            groupEle.classList.add('e-ribbon-emptyCollection');\n                        }\n                    }\n                }\n                else {\n                    this.element.classList.remove(constants.RIBBON_OVERFLOW);\n                    for (var i_3 = 0; i_3 < groupList.length; i_3++) {\n                        var group = groupList[parseInt(i_3.toString(), 10)];\n                        var alignType = groupList[parseInt(i_3.toString(), 10)].orientation;\n                        var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n                        var groupContent = groupContainer.querySelector('#' + group.id + constants.CONTENT_ID);\n                        var groupHeader = this.createElement('div', {\n                            className: constants.RIBBON_GROUP_HEADER,\n                            id: group.id + constants.HEADER_ID,\n                            innerHTML: group.header\n                        });\n                        groupContainer.appendChild(groupHeader);\n                        if (alignType === 'Row') {\n                            groupContent.classList.replace(constants.RIBBON_COLUMN, constants.RIBBON_ROW);\n                        }\n                        groupContent.classList.add(constants.RIBBON_CONTENT_HEIGHT);\n                        for (var j = 0; j < group.collections.length; j++) {\n                            var overflowDDB = void 0;\n                            var overflowtarget = void 0;\n                            if (!group.enableGroupOverflow) {\n                                overflowDDB = this.overflowDDB;\n                                if (overflowDDB) {\n                                    overflowtarget = this.overflowDDB.target;\n                                }\n                            }\n                            else {\n                                var overflowDDBEle = groupContainer.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                                if (overflowDDBEle) {\n                                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                                    overflowtarget = overflowDDB.target;\n                                }\n                            }\n                            var collection = group.collections[parseInt(j.toString(), 10)];\n                            var groupCollection = groupContainer.querySelector('#' + collection.id);\n                            if (alignType === 'Column') {\n                                groupCollection.classList.replace(constants.RIBBON_COLUMN, constants.RIBBON_ROW);\n                            }\n                            for (var k = 0; k < collection.items.length; k++) {\n                                var itemList = collection.items;\n                                var item = collection.items[parseInt(k.toString(), 10)];\n                                var flag = true;\n                                while ((flag) && !(item.displayOptions & DisplayMode.Classic)) {\n                                    k++;\n                                    var itemEle = void 0;\n                                    if ((item.displayOptions & DisplayMode.Simplified) || (item.displayOptions & DisplayMode.Overflow)) {\n                                        if (item.displayOptions & DisplayMode.Simplified) {\n                                            itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        }\n                                        else {\n                                            itemEle = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        }\n                                        if (itemEle !== null) {\n                                            var ele_8 = itemEle.querySelector('#' + item.id);\n                                            this.destroyFunction(item, ele_8);\n                                            itemEle.remove();\n                                        }\n                                    }\n                                    if (k < itemList.length) {\n                                        item = itemList[parseInt(k.toString(), 10)];\n                                    }\n                                    else {\n                                        flag = false;\n                                    }\n                                }\n                                if (!flag) {\n                                    break;\n                                }\n                                if (!(item.displayOptions & (DisplayMode.Simplified | DisplayMode.Overflow))) {\n                                    var itemEle = this.createItems([item], alignType, group.id, group.header, group.enableGroupOverflow, tabIndex)[0];\n                                    groupCollection.append(itemEle);\n                                }\n                                else {\n                                    var itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    if (!itemEle) {\n                                        itemEle = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton)) {\n                                            this.updatePopupItems(item, itemEle, group.enableGroupOverflow, false);\n                                        }\n                                        this.removeOverflowEvent(item, itemEle);\n                                    }\n                                    groupCollection.append(itemEle);\n                                }\n                                var ele = groupContainer.querySelector('#' + item.id);\n                                var itemsize = (item.allowedSizes & RibbonItemSize.Large) ? RibbonItemSize.Large :\n                                    (item.allowedSizes & RibbonItemSize.Medium) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                                item.setProperties({ activeSize: itemsize }, true);\n                                this.setItemSize(ele, item);\n                            }\n                            if (group.enableGroupOverflow && overflowDDB) {\n                                if (overflowtarget.childElementCount === 0) {\n                                    this.removeOverflowButton(overflowDDB);\n                                }\n                            }\n                        }\n                    }\n                }\n                if (this.selectedTab === tabIndex) {\n                    this.checkOverflow(tabIndex, activeContent);\n                }\n            }\n        }\n        if (this.activeLayout === 'Classic') {\n            this.removeOverflowButton(this.overflowDDB);\n            this.overflowDDB = null;\n        }\n    };\n    Ribbon.prototype.createLauncherIcon = function (groupId, groupContainer) {\n        var _this = this;\n        var launcherIcon = this.createElement('div', {\n            className: constants.RIBBON_LAUNCHER_ICON_ELE + ' ' + (this.launcherIconCss ? this.launcherIconCss : constants.RIBBON_LAUNCHER_ICON),\n            id: groupId + constants.LAUNCHER_ID,\n            attrs: { 'tabindex': '0', 'type': 'button', 'aria-label': 'Launcher Icon', 'role': 'button' }\n        });\n        groupContainer.appendChild(launcherIcon);\n        groupContainer.classList.add(constants.RIBBON_LAUNCHER);\n        EventHandler.add(launcherIcon, 'click', this.launcherIconClicked.bind(this, groupId), this);\n        EventHandler.add(launcherIcon, 'keydown', function (e) {\n            if (e.key === 'Enter') {\n                _this.launcherIconClicked(groupId);\n            }\n        }, this);\n    };\n    Ribbon.prototype.launcherIconClicked = function (id) {\n        var eventArgs = { groupId: id };\n        this.trigger('launcherIconClick', eventArgs);\n    };\n    Ribbon.prototype.createGroups = function (groupList, tabIndex) {\n        var groupElements = [];\n        for (var i = 0; i < groupList.length; i++) {\n            var group = groupList[parseInt(i.toString(), 10)];\n            var alignType = group.orientation;\n            var groupEle = this.createElement('div', {\n                className: group.cssClass,\n                id: group.id\n            });\n            groupEle.classList.add(constants.RIBBON_GROUP);\n            groupElements.push(groupEle);\n            var groupContainer = this.createElement('div', {\n                className: group.cssClass,\n                id: group.id + constants.CONTAINER_ID\n            });\n            groupContainer.classList.add(constants.RIBBON_GROUP_CONTAINER);\n            groupEle.appendChild(groupContainer);\n            var groupContent = this.createElement('div', {\n                className: this.activeLayout === 'Simplified' ? constants.RIBBON_GROUP_CONTENT : (constants.RIBBON_GROUP_CONTENT + constants.SPACE + constants.RIBBON_CONTENT_HEIGHT),\n                id: group.id + constants.CONTENT_ID\n            });\n            groupContent.classList.add(((alignType === 'Column') || (this.activeLayout === 'Simplified')) ? constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n            groupContainer.appendChild(groupContent);\n            if (this.activeLayout === 'Classic') {\n                var groupHeader = this.createElement('div', {\n                    className: constants.RIBBON_GROUP_HEADER,\n                    id: group.id + constants.HEADER_ID,\n                    innerHTML: group.header\n                });\n                groupContainer.appendChild(groupHeader);\n            }\n            if (group.showLauncherIcon) {\n                this.createLauncherIcon(group.id, groupContainer);\n            }\n            var elements = this.createCollection(group.collections, group.orientation, group.id, group.header, group.enableGroupOverflow, tabIndex, groupContainer);\n            append(elements, groupContent);\n            if ((this.activeLayout === 'Simplified') && !(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                groupEle.classList.add('e-ribbon-emptyCollection');\n            }\n        }\n        return groupElements;\n    };\n    Ribbon.prototype.validateItemSize = function () {\n        for (var k = 0; k < this.tabs.length; k++) {\n            var groupList = this.tabs[parseInt(k.toString(), 10)].groups;\n            for (var l = 0; l < groupList.length; l++) {\n                var collectionList = groupList[parseInt(l.toString(), 10)].collections;\n                var alignType = groupList[parseInt(l.toString(), 10)].orientation;\n                for (var i = 0; i < collectionList.length; i++) {\n                    var items = collectionList[parseInt(i.toString(), 10)].items;\n                    for (var j = 0; j < items.length; j++) {\n                        var ribbonitem = items[parseInt(j.toString(), 10)];\n                        if (!ribbonitem.allowedSizes || (ribbonitem.allowedSizes === 0)) {\n                            ribbonitem.setProperties({\n                                allowedSizes: (RibbonItemSize.Small | RibbonItemSize.Medium | RibbonItemSize.Large)\n                            }, true);\n                        }\n                        if ((ribbonitem.type === 'ColorPicker') && (ribbonitem.allowedSizes !== RibbonItemSize.Small)) {\n                            ribbonitem.setProperties({ allowedSizes: RibbonItemSize.Small }, true);\n                        }\n                        else if ((ribbonitem.type === 'ComboBox' || ribbonitem.type === 'CheckBox') &&\n                            (ribbonitem.allowedSizes !== RibbonItemSize.Medium)) {\n                            ribbonitem.setProperties({ allowedSizes: RibbonItemSize.Medium }, true);\n                        }\n                        else if (((alignType === 'Column') && (items.length > 1)) || ((alignType === 'Row') && (collectionList.length > 1))) {\n                            if (ribbonitem.allowedSizes & RibbonItemSize.Large) {\n                                // To remove large size, perform 'and' with 011(3).\n                                var sizeVal = ribbonitem.allowedSizes & (RibbonItemSize.Small | RibbonItemSize.Medium);\n                                sizeVal = sizeVal ? sizeVal : RibbonItemSize.Medium;\n                                ribbonitem.setProperties({ allowedSizes: sizeVal }, true);\n                            }\n                        }\n                        var itemsize = (ribbonitem.allowedSizes & RibbonItemSize.Large) ? RibbonItemSize.Large :\n                            (ribbonitem.allowedSizes & RibbonItemSize.Medium) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                        ribbonitem.setProperties({ activeSize: itemsize }, true);\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createCollection = function (collectionList, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer) {\n        var collectionElements = [];\n        for (var i = 0; i < collectionList.length; i++) {\n            var collection = collectionList[parseInt(i.toString(), 10)];\n            var collectionEle = this.createElement('div', {\n                className: collection.cssClass,\n                id: collection.id\n            });\n            collectionEle.classList.add(constants.RIBBON_COLLECTION);\n            collectionEle.classList.add(((alignType !== 'Column') || (this.activeLayout === 'Simplified')) ?\n                constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n            collectionElements.push(collectionEle);\n            var elements = this.createItems(collection.items, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer);\n            append(elements, collectionEle);\n            if ((alignType === 'Row') && (i === 2)) {\n                break;\n            }\n        }\n        return collectionElements;\n    };\n    Ribbon.prototype.createRibbonItem = function (item, itemEle) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.createButton(item, itemEle);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.createDropDown(item, itemEle);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.createSplitButton(item, itemEle);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.createCheckBox(item, itemEle);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.createColorPicker(item, itemEle);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.createComboBox(item, itemEle);\n                break;\n            case 'Template':\n                this.createTemplateContent(item, itemEle);\n                break;\n        }\n    };\n    Ribbon.prototype.createItems = function (itemList, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer) {\n        var _a;\n        var itemElements = [];\n        for (var i = 0; i < itemList.length; i++) {\n            var item = itemList[parseInt(i.toString(), 10)];\n            //To stop rendering of items with simplified mode position type as none\n            var flag = true;\n            while (flag &&\n                (((this.activeLayout === 'Simplified') && !(item.displayOptions & (DisplayMode.Simplified | DisplayMode.Overflow))) ||\n                    ((this.activeLayout === 'Classic') && !(item.displayOptions & DisplayMode.Classic)))) {\n                i++;\n                if (i < itemList.length) {\n                    item = itemList[parseInt(i.toString(), 10)];\n                }\n                else {\n                    flag = false;\n                }\n            }\n            if (!flag) {\n                break;\n            }\n            var itemEle = this.createElement('div', {\n                className: item.cssClass,\n                id: item.id + constants.CONTAINER_ID\n            });\n            (_a = itemEle.classList).add.apply(_a, [constants.RIBBON_ITEM].concat((item.disabled ? [constants.DISABLED_CSS] : [])));\n            // To avoid undefined items condition is added\n            if (item.ribbonTooltipSettings && isTooltipPresent(item.ribbonTooltipSettings)) {\n                itemEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                this.tooltipData.push({ id: itemEle.id, data: item.ribbonTooltipSettings });\n            }\n            var size = item.activeSize;\n            if (this.activeLayout === 'Simplified') {\n                size = ((item.allowedSizes === RibbonItemSize.Large) || (item.allowedSizes & RibbonItemSize.Medium) ||\n                    (item.displayOptions === DisplayMode.Overflow)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                item.setProperties({ activeSize: size }, true);\n            }\n            if (size & RibbonItemSize.Large) {\n                itemEle.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemEle.classList.add((size & RibbonItemSize.Medium) ? constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n            this.createRibbonItem(item, itemEle);\n            if ((this.activeLayout === 'Simplified') && ((item.displayOptions === DisplayMode.Overflow) || (item.displayOptions === (DisplayMode.Classic | DisplayMode.Overflow)))) {\n                this.createOverflowPopup(item, tabIndex, isGroupOF, groupId, groupHeader, itemEle, groupContainer);\n                if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton)) {\n                    this.updatePopupItems(item, itemEle, isGroupOF, true);\n                }\n            }\n            else {\n                // For normal mode and Simplified mode position type as Group and Auto\n                itemElements.push(itemEle);\n            }\n            if ((alignType === 'Column') && (i === 2)) {\n                break;\n            }\n        }\n        return itemElements;\n    };\n    Ribbon.prototype.createHelpPaneTemplate = function () {\n        if (this.helpPaneTemplate) {\n            var templateName = 'helpPaneTemplate';\n            this.clearTemplate([templateName]);\n            this.ribbonTempEle = this.createElement('div', {\n                className: constants.RIBBON_HELP_TEMPLATE,\n                id: this.element.id + constants.RIBBON_HELP_PANE_TEMPLATE_ID\n            });\n            var templateFunction = getTemplateFunction(this.helpPaneTemplate);\n            append(templateFunction({}, this, templateName, 'helpPaneTemplate', this.isStringTemplate), this.ribbonTempEle);\n            var tabEle = this.tabObj.element;\n            var toolbarEle = tabEle.querySelector('.e-toolbar');\n            toolbarEle.after(this.ribbonTempEle);\n            tabEle.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, this.ribbonTempEle.offsetWidth + 'px');\n            this.renderReactTemplates();\n        }\n    };\n    Ribbon.prototype.createTemplateContent = function (item, itemElement) {\n        var itemEle = this.createElement('div', {\n            className: item.cssClass ? (constants.RIBBON_TEMPLATE + constants.SPACE + item.cssClass) : constants.RIBBON_TEMPLATE,\n            id: item.id\n        });\n        if (item.disabled) {\n            itemEle.classList.add(constants.DISABLED_CSS);\n            itemEle.setAttribute('disabled', '');\n        }\n        itemElement.appendChild(itemEle);\n        this.renderItemTemplate(item, itemEle);\n    };\n    Ribbon.prototype.renderItemTemplate = function (item, itemElement) {\n        var templateName = 'ribbon' + item.id + 'itemTemplate';\n        this.clearTemplate([templateName]);\n        var templateFunction = getTemplateFunction(item.itemTemplate);\n        append(templateFunction({ activeSize: RibbonItemSize[item.activeSize] }, this, templateName, (item.id + 'itemTemplate'), this.isStringTemplate), itemElement);\n        this.renderReactTemplates();\n    };\n    Ribbon.prototype.checkID = function (list, type, initId) {\n        var key = type === 'tab' ? constants.TAB_ID : type === 'group' ? constants.GROUP_ID :\n            type === 'collection' ? constants.COLLECTION_ID : constants.ITEM_ID;\n        for (var i = 0; i < list.length; i++) {\n            var listitem = list[parseInt(i.toString(), 10)];\n            if (!listitem.id) {\n                listitem.setProperties({ id: initId + key + (this.idIndex++) }, true);\n            }\n            switch (type) {\n                case 'tab':\n                    listitem.setProperties({ groups: this.checkID(listitem.groups, 'group', listitem.id) }, true);\n                    break;\n                case 'group':\n                    listitem.setProperties({ collections: this.checkID(listitem.collections, 'collection', listitem.id) }, true);\n                    break;\n                case 'collection':\n                    listitem.setProperties({ items: this.checkID(listitem.items, 'item', listitem.id) }, true);\n                    break;\n                default:\n                    break;\n            }\n        }\n        return list;\n    };\n    Ribbon.prototype.updateCommonProperty = function (commonProp) {\n        this.tabObj.setProperties(commonProp);\n        if (this.ribbonFileMenuModule) {\n            this.ribbonFileMenuModule.setCommonProperties(commonProp);\n        }\n        for (var i = 0; i < this.tabs.length; i++) {\n            var tab = this.tabs[parseInt(i.toString(), 10)];\n            var contentEle = this.tabObj.items[parseInt(i.toString(), 10)].content;\n            for (var _i = 0, _a = tab.groups; _i < _a.length; _i++) {\n                var group = _a[_i];\n                var dropdownElement = void 0;\n                var dropdown = void 0;\n                if (this.activeLayout === RibbonLayout.Classic) {\n                    dropdownElement = group.isCollapsed ?\n                        contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                }\n                else {\n                    dropdownElement = group.enableGroupOverflow ?\n                        contentEle.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID) : null;\n                    dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                    if (dropdown) {\n                        updateTooltipProp(dropdown.target, commonProp);\n                        dropdown.setProperties(commonProp);\n                    }\n                }\n                for (var _b = 0, _c = group.collections; _b < _c.length; _b++) {\n                    var collection = _c[_b];\n                    for (var _d = 0, _e = collection.items; _d < _e.length; _d++) {\n                        var item = _e[_d];\n                        var ele = null;\n                        if (this.activeLayout === RibbonLayout.Classic) {\n                            if (item.displayOptions & DisplayMode.Classic) {\n                                ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                            }\n                        }\n                        else {\n                            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n                            ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id) : null;\n                            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n                            if (!ele) {\n                                ele = dropdown.target.querySelector('#' + item.id);\n                                if (item.type === 'DropDown') {\n                                    this.updatePopupItems(item, dropdown.target, group.enableGroupOverflow, true);\n                                }\n                            }\n                        }\n                        if (ele) {\n                            var moduleName = this.getItemModuleName(item);\n                            if (moduleName !== 'template') {\n                                updateCommonProperty(ele, moduleName, commonProp);\n                            }\n                            else if (!isNullOrUndefined(commonProp.enableRtl)) {\n                                ele.classList.toggle(constants.RTL_CSS, commonProp.enableRtl);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.removeLauncherIcon = function (groupId, dropdownElement, contentEle) {\n        var containerId = groupId + constants.CONTAINER_ID;\n        var containerEle = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, containerId) : contentEle.querySelector('#' + containerId);\n        if (containerEle) {\n            containerEle.classList.remove(constants.RIBBON_LAUNCHER);\n            var launcherIcon = containerEle.querySelector('#' + groupId + constants.LAUNCHER_ID);\n            remove(launcherIcon);\n        }\n    };\n    Ribbon.prototype.destroyTabItems = function (tabs) {\n        for (var i = 0; i < tabs.length; i++) {\n            var tab = tabs[parseInt(i.toString(), 10)];\n            var contentEle = this.tabObj.items[parseInt(i.toString(), 10)].content;\n            for (var _i = 0, _a = tab.groups; _i < _a.length; _i++) {\n                var group = _a[_i];\n                var dropdownElement = void 0;\n                var dropdown = void 0;\n                if (this.activeLayout === RibbonLayout.Classic) {\n                    dropdownElement = group.isCollapsed ?\n                        contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    if (group.showLauncherIcon) {\n                        this.removeLauncherIcon(group.id, dropdownElement, contentEle);\n                    }\n                }\n                else {\n                    dropdownElement = group.enableGroupOverflow ?\n                        contentEle.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID) : null;\n                    dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                }\n                for (var _b = 0, _c = group.collections; _b < _c.length; _b++) {\n                    var collection = _c[_b];\n                    for (var _d = 0, _e = collection.items; _d < _e.length; _d++) {\n                        var item = _e[_d];\n                        var ele = void 0;\n                        if (this.activeLayout === RibbonLayout.Classic) {\n                            if (item.displayOptions & DisplayMode.Classic) {\n                                ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) :\n                                    contentEle.querySelector('#' + item.id);\n                            }\n                        }\n                        else {\n                            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n                            ele = (item.displayOptions & DisplayMode.Simplified) ?\n                                contentEle.querySelector('#' + item.id) : null;\n                            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n                            if (!ele) {\n                                ele = dropdown ? dropdown.target.querySelector('#' + item.id) : null;\n                            }\n                        }\n                        if (ele) {\n                            this.destroyFunction(item, ele);\n                        }\n                    }\n                }\n                if ((this.activeLayout === RibbonLayout.Classic) && dropdownElement) {\n                    this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                }\n                else if ((this.activeLayout === RibbonLayout.Simplified) && group.enableGroupOverflow && dropdownElement) {\n                    this.removeOverflowButton(dropdown);\n                }\n            }\n        }\n        if (this.overflowDDB) {\n            this.removeOverflowButton(this.overflowDDB);\n            this.overflowDDB = null;\n        }\n    };\n    Ribbon.prototype.destroyFunction = function (item, ele) {\n        var moduleName = this.getItemModuleName(item);\n        if (moduleName === 'colorpicker') {\n            this.ribbonColorPickerModule.unwireColorPickerEvents(ele);\n        }\n        else if (moduleName !== 'template') {\n            destroyControl(ele, moduleName);\n        }\n        if (item.ribbonTooltipSettings) {\n            var index = getIndex(this.tooltipData, function (e) { return e.id === item.id + constants.CONTAINER_ID; });\n            if (index !== -1) {\n                this.tooltipData.splice(index, 1);\n            }\n        }\n    };\n    Ribbon.prototype.getItemModuleName = function (item) {\n        switch (item.type) {\n            case 'Button':\n                return 'btn';\n            case 'DropDown':\n                return 'dropdown-btn';\n            case 'SplitButton':\n                return 'split-btn';\n            case 'CheckBox':\n                return 'checkbox';\n            case 'ColorPicker':\n                return 'colorpicker';\n            case 'ComboBox':\n                return 'combobox';\n            default:\n                return 'template';\n        }\n    };\n    Ribbon.prototype.clearOverflowResize = function () {\n        this.destroyScroll();\n        this.clearOverflowDropDown(this.selectedTab);\n        var tab = this.tabs[this.selectedTab];\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        for (var j = 0; (j < tab.groups.length); j++) {\n            this.checkSmallToMedium(this.selectedTab, tab, j, tabContent, activeContent, true, true);\n            this.checkMediumToLarge(this.selectedTab, tab, j, tabContent, activeContent, true, true);\n        }\n    };\n    /**\n     * Refreshes the layout.\n     *\n     * @returns {void}\n     */\n    Ribbon.prototype.refreshLayout = function () {\n        this.resizeHandler();\n    };\n    /**\n     * Selects the tab\n     *\n     * @param  {string} tabId - Gets the tab ID\n     * @returns {void}\n     */\n    Ribbon.prototype.selectTab = function (tabId) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        this.setProperties({ selectedTab: index });\n    };\n    /**\n     * Adds the ribbon tab.\n     *\n     * @param {RibbonTabModel} tab - Gets the ribbon tab model\n     * @param {string} targetId  - Gets the ID of the target tab to add the new tab.\n     * @param {boolean} isAfter - Defines whether the tab is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addTab = function (tab, targetId, isAfter) {\n        var index = targetId ? getIndex(this.tabs, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? this.tabs.length : (index + (isAfter ? 1 : 0));\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal.splice(index, 0, tab);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        this.checkID([this.tabs[parseInt(index.toString(), 10)]], 'tab', this.element.id);\n        this.tabsInternal = this.tabs.slice();\n        this.validateItemSize();\n        var tabItem = this.createTabItems([tab]);\n        this.tabObj.addTab(tabItem, index);\n    };\n    /**\n     * Removes the ribbon tab.\n     *\n     * @param {string} tabId - Gets the tab ID\n     * @returns {void}\n     */\n    Ribbon.prototype.removeTab = function (tabId) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n        if (groups && (contentEle.innerHTML !== '')) {\n            for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\n                var group = groups_1[_i];\n                var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                    var collection = _b[_a];\n                    for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                        var item = _d[_c];\n                        var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                        if (ele) {\n                            this.destroyFunction(item, ele);\n                        }\n                    }\n                }\n                if (dropdownElement) {\n                    this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                }\n            }\n        }\n        if (index === this.selectedTab) {\n            this.isAddRemove = true;\n        }\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal.splice(index, 1);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        this.tabObj.removeTab(index);\n    };\n    /**\n     * Adds the ribbon group.\n     *\n     * @param {string} tabId - Gets the tab ID.\n     * @param {RibbonGroupModel} group - Gets the ribbon group model.\n     * @param {string} targetId - Gets the ID of the target group to add the new group.\n     * @param {boolean} isAfter - Defines whether the group is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addGroup = function (tabId, group, targetId, isAfter) {\n        var tabIndex = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (tabIndex === -1) {\n            return;\n        }\n        if (this.selectedTab === tabIndex) {\n            this.clearOverflowResize();\n        }\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        var ribbonGroups = tab.groups.slice();\n        var index = targetId ? getIndex(ribbonGroups, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonGroups.length : (index + (isAfter ? 1 : 0));\n        ribbonGroups.splice(index, 0, group);\n        tab.setProperties({ groups: ribbonGroups }, true);\n        this.checkID([tab.groups[parseInt(index.toString(), 10)]], 'group', tabId);\n        this.validateItemSize();\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        if (contentEle.innerHTML !== '') {\n            var element = this.createGroups([tab.groups[parseInt(index.toString(), 10)]], tabIndex)[0];\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                contentEle.append(element);\n            }\n        }\n        if (this.selectedTab === tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes the ribbon group.\n     *\n     * @param {string} groupId -Gets the group ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeGroup = function (groupId) {\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (itemProp.group.showLauncherIcon) {\n                this.removeLauncherIcon(itemProp.group.id, null, contentEle);\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            for (var _i = 0, _a = itemProp.group.collections; _i < _a.length; _i++) {\n                var collection = _a[_i];\n                for (var _b = 0, _c = collection.items; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    this.removeItemElement(contentEle, item, dropdown);\n                }\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                if (itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                else {\n                    var ofGroupContainer = dropdown.target.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = dropdown.target.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                    }\n                }\n            }\n            var groupEle = contentEle.querySelector('#' + groupId);\n            if (groupEle) {\n                groupEle.remove();\n            }\n        }\n        var ribbonGroups = this.tabs[itemProp.tabIndex].groups.slice();\n        ribbonGroups.splice(itemProp.groupIndex, 1);\n        this.tabs[itemProp.tabIndex].setProperties({ groups: ribbonGroups }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * adds the ribbon collection.\n     *\n     * @param {string} groupId - Gets the ribbon group ID.\n     * @param {RibbonCollectionModel} collection - Gets the ribbon collection model.\n     * @param {string} targetId - Gets the ID of the target collection to add the new collection.\n     * @param {boolean} isAfter - Defines whether the collection is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addCollection = function (groupId, collection, targetId, isAfter) {\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if ((itemProp.group.orientation === 'Row') && (itemProp.group.collections.length === 3)) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        var ribbonCollections = itemProp.group.collections.slice();\n        var index = targetId ? getIndex(ribbonCollections, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonCollections.length : (index + (isAfter ? 1 : 0));\n        ribbonCollections.splice(index, 0, collection);\n        itemProp.group.setProperties({ collections: ribbonCollections }, true);\n        this.checkID([itemProp.group.collections[parseInt(index.toString(), 10)]], 'collection', groupId);\n        this.validateItemSize();\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var collection_1 = itemProp.group.collections[parseInt(index.toString(), 10)];\n            var element = this.createCollection([collection_1], itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex)[0];\n            if (itemProp.group.isCollapsed) {\n                contentEle = this.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle);\n            }\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                contentEle.querySelector('#' + groupId + constants.CONTENT_ID).append(element);\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes the ribbon collection.\n     *\n     * @param {string} collectionId - Gets the collection ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeCollection = function (collectionId) {\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            for (var _i = 0, _a = itemProp.collection.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.removeItemElement(contentEle, item, dropdown);\n            }\n            var groupEle = contentEle.querySelector('#' + collectionId);\n            if (groupEle) {\n                groupEle.remove();\n            }\n        }\n        var ribbonGroup = itemProp.group;\n        var ribbonCollections = ribbonGroup.collections.slice();\n        ribbonCollections.splice(itemProp.collectionIndex, 1);\n        ribbonGroup.setProperties({ collections: ribbonCollections }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Adds ribbon item.\n     *\n     * @param {string} collectionId - Gets the collection ID.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {string} targetId - Gets the ID of the target item to add the new item.\n     * @param {boolean} isAfter - Defines whether the item is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addItem = function (collectionId, item, targetId, isAfter) {\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if ((itemProp.group.orientation === 'Column') && (itemProp.collection.items.length === 3)) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        var ribbonItems = itemProp.collection.items.slice();\n        var index = targetId ? getIndex(ribbonItems, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonItems.length : (index + (isAfter ? 1 : 0));\n        ribbonItems.splice(index, 0, item);\n        itemProp.collection.setProperties({ items: ribbonItems }, true);\n        this.checkID([itemProp.collection.items[parseInt(index.toString(), 10)]], 'item', collectionId);\n        this.validateItemSize();\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupContainer = contentEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n        if (contentEle.innerHTML !== '') {\n            var item_1 = itemProp.collection.items[parseInt(index.toString(), 10)];\n            var element = this.createItems([item_1], itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex, groupContainer)[0];\n            if (itemProp.group.isCollapsed) {\n                contentEle = this.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle);\n            }\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.closest('.' + constants.RIBBON_ITEM).insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                if (element) {\n                    contentEle.querySelector('#' + collectionId).append(element);\n                }\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeItem = function (itemId) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            var item = itemProp.item;\n            this.removeItemElement(contentEle, item, dropdown);\n        }\n        var ribbonCollection = itemProp.collection;\n        var ribbonItems = ribbonCollection.items;\n        ribbonItems.splice(itemProp.itemIndex, 1);\n        ribbonCollection.setProperties({ items: ribbonItems }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * tab - Gets the ribbon tab to be updated. The id of the tab is a required property. Other properties are optional.\n     *\n     * @param {RibbonTabModel} tab - Gets the ribbon tab model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateTab = function (tab) {\n        var tabId = tab.id;\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n        var tabEle = this.tabObj.element;\n        if (groups && (contentEle.innerHTML !== '')) {\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (tab.cssClass) {\n                if (this.tabs[parseInt(index.toString(), 10)].cssClass) {\n                    contentEle.classList.remove(this.tabs[parseInt(index.toString(), 10)].cssClass);\n                    tabEle.querySelector('.e-active').classList.remove(this.tabs[parseInt(index.toString(), 10)].cssClass);\n                }\n            }\n            // Check whether group is passed by the user, and if it is, then remove the old values.\n            if (tab.groups) {\n                for (var _i = 0, groups_2 = groups; _i < groups_2.length; _i++) {\n                    var group = groups_2[_i];\n                    var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                        var collection = _b[_a];\n                        for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                            var item = _d[_c];\n                            var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                            if (ele) {\n                                this.destroyFunction(item, ele);\n                            }\n                        }\n                    }\n                    if (dropdownElement) {\n                        this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                    }\n                }\n                var groupElements = contentEle.querySelectorAll('.e-ribbon-group');\n                // eslint-disable-next-line @typescript-eslint/tslint/config\n                groupElements.forEach(function (groupEle) { groupEle.remove(); });\n            }\n        }\n        if (index === this.selectedTab) {\n            this.isAddRemove = true;\n        }\n        var ribbonTab = this.tabs[parseInt(index.toString(), 10)];\n        ribbonTab.setProperties(tab, true);\n        this.setProperties({ groups: this.checkID(ribbonTab.groups, 'group', ribbonTab.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML === '') {\n            // Check whether group is passed by the user and sets the updated values.\n            if (tab.groups) {\n                var elements = this.createGroups(ribbonTab.groups, index);\n                append(elements, contentEle);\n            }\n            if (this.selectedTab === index) {\n                this.refreshLayout();\n            }\n            // Check whether cssClass is passed by the user and sets the updated values.\n            if (tab.cssClass) {\n                contentEle.classList.add(ribbonTab.cssClass);\n                tabEle.querySelector('.e-active').classList.add(ribbonTab.cssClass);\n            }\n            // Check whether header is passed by the user and sets the updated values.\n            if (tab.header) {\n                tabEle.querySelector('#' + tabId + constants.HEADER_ID).innerText = ribbonTab.header;\n            }\n        }\n    };\n    /**\n     * group - Gets the ribbon group to be updated. The id of the group is a required property. Other properties are optional.\n     *\n     * @param {RibbonGroupModel} group - Gets the ribbon group model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateGroup = function (group) {\n        var groupId = group.id;\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupId);\n        var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n        var dropdownElement;\n        var dropdown;\n        if (contentEle.innerHTML !== '') {\n            if (itemProp.group.showLauncherIcon) {\n                this.removeLauncherIcon(itemProp.group.id, null, contentEle);\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (group.cssClass) {\n                if (itemProp.group.cssClass) {\n                    groupEle.classList.remove(itemProp.group.cssClass);\n                    if (groupContainer) {\n                        groupContainer.classList.remove(itemProp.group.cssClass);\n                    }\n                }\n            }\n            // Check whether collections or orientation is passed by the user, and if it is, then remove the old values.\n            if (group.collections || group.orientation) {\n                if (itemProp.group.collections || itemProp.group.orientation) {\n                    for (var _i = 0, _a = itemProp.group.collections; _i < _a.length; _i++) {\n                        var collection = _a[_i];\n                        for (var _b = 0, _c = collection.items; _b < _c.length; _b++) {\n                            var item = _c[_b];\n                            this.removeItemElement(contentEle, item, dropdown);\n                        }\n                    }\n                    var collectionElements = groupEle.querySelectorAll('.e-ribbon-collection');\n                    // eslint-disable-next-line @typescript-eslint/tslint/config\n                    collectionElements.forEach(function (collectionEle) { collectionEle.remove(); });\n                    if (group.orientation) {\n                        var groupContent = groupContainer.querySelector('.e-ribbon-group-content');\n                        var removeCss = groupContent.classList.value.match(/(e-ribbon-[column|row]+)/g);\n                        if (removeCss) {\n                            removeClass([groupContent], removeCss);\n                        }\n                    }\n                }\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                if (itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                else {\n                    var ofGroupContainer = dropdown.target.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = dropdown.target.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                    }\n                }\n            }\n        }\n        var ribbongroup = itemProp.group;\n        ribbongroup.setProperties(group, true);\n        ribbongroup.setProperties({ collections: this.checkID(ribbongroup.collections, 'collection', ribbongroup.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            // Check whether showLauncherIcon or orientation is passed by the user and sets the updated values.\n            if (group.showLauncherIcon) {\n                this.createLauncherIcon(ribbongroup.id, groupContainer);\n            }\n            // Check whether collections or orientation is passed by the user and sets the updated values.\n            if (group.collections || group.orientation) {\n                var groupContent = groupContainer.querySelector('.e-ribbon-group-content');\n                groupContent.classList.add(((ribbongroup.orientation === 'Column') || (this.activeLayout === 'Simplified')) ? constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n                var elements = this.createCollection(ribbongroup.collections, ribbongroup.orientation, ribbongroup.id, ribbongroup.header, ribbongroup.enableGroupOverflow, itemProp.tabIndex, groupContainer);\n                append(elements, groupContent);\n            }\n            if (this.selectedTab === itemProp.tabIndex) {\n                this.refreshLayout();\n            }\n            // Check whether cssClass is passed by the user and sets the updated values.\n            if (group.cssClass) {\n                groupEle.classList.add(ribbongroup.cssClass);\n                if (groupContainer) {\n                    groupContainer.classList.add(ribbongroup.cssClass);\n                }\n            }\n            // Check whether header is passed by the user and sets the updated values.\n            if (group.header) {\n                if (this.activeLayout === RibbonLayout.Simplified && !group.enableGroupOverflow) {\n                    var overflowHeader = dropdown.target.querySelector('#' + group.id + constants.HEADER_ID);\n                    if (overflowHeader) {\n                        overflowHeader.innerText = ribbongroup.header;\n                    }\n                }\n                else if (this.activeLayout === RibbonLayout.Classic && !ribbongroup.isCollapsed) {\n                    groupEle.querySelector('.e-ribbon-group-header').innerText = ribbongroup.header;\n                }\n                else if (this.activeLayout === RibbonLayout.Classic && ribbongroup.isCollapsed) {\n                    var overflowEle = groupEle.querySelector('#' + ribbongroup.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                    // need to set instance for dropdown\n                    var dropDownBtn = getInstance(overflowEle, DropDownButton);\n                    var overflowHeader = dropDownBtn.target.querySelector('#' + group.id + constants.HEADER_ID);\n                    if (overflowHeader) {\n                        overflowHeader.innerText = ribbongroup.header;\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * collection - Gets the ribbon collection to be updated. The id of the collection is a required property. Other properties are optional.\n     *\n     * @param {RibbonCollectionModel} collection - Gets the ribbon collection model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateCollection = function (collection) {\n        var collectionId = collection.id;\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var collectionEle = contentEle.querySelector('#' + collectionId);\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (collection.cssClass) {\n                if (itemProp.collection.cssClass) {\n                    collectionEle.classList.remove(itemProp.collection.cssClass);\n                }\n            }\n            if (collection.items) {\n                if (itemProp.collection.items) {\n                    for (var _i = 0, _a = itemProp.collection.items; _i < _a.length; _i++) {\n                        var item = _a[_i];\n                        this.removeItemElement(contentEle, item, dropdown);\n                    }\n                }\n            }\n        }\n        var ribboncollection = itemProp.collection;\n        ribboncollection.setProperties(collection, true);\n        ribboncollection.setProperties({ items: this.checkID(ribboncollection.items, 'item', ribboncollection.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            if (collection.items) {\n                var groupContainer = contentEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                var elements = this.createItems(ribboncollection.items, itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex, groupContainer);\n                append(elements, collectionEle);\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n        // Check whether cssClass is passed by the user and sets the updated values.\n        if (collection.cssClass) {\n            collectionEle.classList.add(ribboncollection.cssClass);\n        }\n    };\n    /**\n     * item - Gets the ribbon item to be updated. The id of the item is a required property. Other properties are optional.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateItem = function (item) {\n        var itemId = item.id;\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + itemProp.group.id);\n        var groupContainer = groupEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n        var itemContainer = null;\n        var itemEle = null;\n        var dropdownElement;\n        var dropdown;\n        if (contentEle.innerHTML !== '') {\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            if (this.activeLayout === RibbonLayout.Simplified && itemProp.item.displayOptions === DisplayMode.Overflow) {\n                itemContainer = dropdown.target.querySelector('#' + itemId + constants.CONTAINER_ID);\n                itemEle = dropdown.target.querySelector('#' + itemId);\n                if (item.displayOptions && item.displayOptions !== DisplayMode.Overflow) {\n                    var collectionEle = groupContainer.querySelector('#' + itemProp.collection.id);\n                    if (collectionEle) {\n                        collectionEle.appendChild(itemContainer);\n                    }\n                }\n            }\n            else {\n                itemContainer = groupContainer.querySelector('#' + itemId + constants.CONTAINER_ID);\n                itemEle = contentEle.querySelector('#' + itemId);\n                if (this.activeLayout === RibbonLayout.Simplified && item.displayOptions === DisplayMode.Overflow) {\n                    this.createOverflowPopup(itemProp.item, itemProp.tabIndex, itemProp.group.enableGroupOverflow, itemProp.group.id, itemProp.group.header, itemContainer, groupContainer);\n                    if ((itemProp.item.type === RibbonItemType.DropDown) || (itemProp.item.type === RibbonItemType.SplitButton)) {\n                        this.updatePopupItems(itemProp.item, itemContainer, itemProp.group.enableGroupOverflow, true);\n                    }\n                }\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (item.cssClass) {\n                if (itemProp.item.cssClass) {\n                    itemContainer.classList.remove(itemProp.item.cssClass);\n                }\n            }\n            this.destroyFunction(itemProp.item, itemEle);\n            itemEle.remove();\n            var removeCss = itemContainer.classList.value.match(/(e-ribbon-[large|medium|small]+-item)/g);\n            if (removeCss) {\n                removeClass([itemContainer], removeCss);\n            }\n        }\n        var ribbonItem = itemProp.item;\n        ribbonItem.setProperties(item, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            if (!(this.activeLayout === RibbonLayout.Simplified && ribbonItem.displayOptions === DisplayMode.Overflow)) {\n                itemContainer = groupContainer.querySelector('#' + itemId + constants.CONTAINER_ID);\n            }\n            else {\n                itemContainer = dropdown.target.querySelector('#' + itemId + constants.CONTAINER_ID);\n            }\n            // To avoid undefined items condition is added\n            if (ribbonItem.ribbonTooltipSettings && isTooltipPresent(ribbonItem.ribbonTooltipSettings)) {\n                itemContainer.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                this.tooltipData.push({ id: itemContainer.id, data: ribbonItem.ribbonTooltipSettings });\n            }\n            var size = ribbonItem.activeSize;\n            if (this.activeLayout === 'Simplified') {\n                size = ((ribbonItem.allowedSizes === RibbonItemSize.Large) || (ribbonItem.allowedSizes & RibbonItemSize.Medium) ||\n                    (ribbonItem.displayOptions === DisplayMode.Overflow)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                ribbonItem.setProperties({ activeSize: size }, true);\n            }\n            if (size & RibbonItemSize.Large) {\n                itemContainer.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemContainer.classList.add((size & RibbonItemSize.Medium) ? constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n            this.createRibbonItem(ribbonItem, itemContainer);\n            if (this.activeLayout === 'Simplified' && itemProp.group.enableGroupOverflow) {\n                if (dropdown.target.childElementCount === 0) {\n                    this.removeOverflowButton(dropdown);\n                }\n            }\n            if (this.selectedTab === itemProp.tabIndex) {\n                this.refreshLayout();\n            }\n            if (item.cssClass) {\n                itemContainer.classList.add(ribbonItem.cssClass);\n            }\n            this.enableDisableItem(ribbonItem.id, ribbonItem.disabled);\n        }\n    };\n    Ribbon.prototype.removeItemElement = function (contentEle, item, dropdown) {\n        var ele = null;\n        if (this.activeLayout === RibbonLayout.Classic) {\n            ele = (item.displayOptions & DisplayMode.Classic) ? contentEle.querySelector('#' + item.id) : null;\n        }\n        else {\n            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n            ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id) : null;\n            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n            if (!ele) {\n                ele = dropdown.target.querySelector('#' + item.id);\n            }\n        }\n        if (ele) {\n            this.destroyFunction(item, ele);\n            ele.closest('#' + item.id + constants.CONTAINER_ID).remove();\n        }\n    };\n    /**\n     * Enables ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableItem = function (itemId) {\n        this.enableDisableItem(itemId, false);\n    };\n    /**\n     * Disables ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableItem = function (itemId) {\n        this.enableDisableItem(itemId, true);\n    };\n    Ribbon.prototype.enableDisableItem = function (itemId, isDisabled) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        itemProp.item.setProperties({ disabled: isDisabled }, true);\n        var ele = getItemElement(this, itemId, itemProp);\n        if (ele) {\n            var itemEle = closest(ele, '.e-ribbon-item');\n            itemEle.classList.toggle(constants.DISABLED_CSS, itemProp.item.disabled);\n            var moduleName = this.getItemModuleName(itemProp.item);\n            if (moduleName !== 'template') {\n                updateControlDisabled(ele, moduleName, isDisabled);\n            }\n            else {\n                ele.classList.toggle(constants.DISABLED_CSS, isDisabled);\n                ele.toggleAttribute('disabled', isDisabled);\n            }\n        }\n    };\n    Ribbon.prototype.unwireEvents = function () {\n        EventHandler.remove(window, 'resize', this.resizeHandler);\n    };\n    Ribbon.prototype.destroy = function () {\n        this.keyboardModuleRibbon.destroy();\n        this.keyboardModuleRibbon = null;\n        destroyTooltip(this.element);\n        this.destroyTabItems(this.tabs);\n        this.removeExpandCollapse();\n        this.collapseButton = undefined;\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n        }\n        if (this.ribbonTempEle) {\n            remove(this.ribbonTempEle);\n            this.ribbonTempEle = null;\n        }\n        _super.prototype.destroy.call(this);\n        this.tabObj.destroy();\n        this.tabObj = undefined;\n        remove(this.element.querySelector('#' + this.element.id + constants.TAB_ID));\n        this.element.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.element.style.removeProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH);\n        this.element.style.removeProperty('width');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(constants.SPACE));\n        }\n        this.element.classList.remove(constants.RTL_CSS, constants.RIBBON_SIMPLIFIED_MODE, constants.RIBBON_OVERFLOW, constants.RIBBON_COLLAPSIBLE, constants.RIBBON_MINIMIZE, 'e-rbn');\n        this.unwireEvents();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {RibbonModel} newProp - Specifies new properties\n     * @param  {RibbonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Ribbon.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _a, _b;\n        for (var _i = 0, _c = Object.keys(newProp); _i < _c.length; _i++) {\n            var prop = _c[_i];\n            switch (prop) {\n                case 'activeLayout':\n                    this.switchLayout();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        (_a = this.element.classList).remove.apply(_a, oldProp.cssClass.split(constants.SPACE));\n                    }\n                    if (newProp.cssClass) {\n                        (_b = this.element.classList).add.apply(_b, newProp.cssClass.split(constants.SPACE));\n                    }\n                    break;\n                case 'isMinimized':\n                    this.element.classList.toggle(constants.RIBBON_MINIMIZE, this.isMinimized);\n                    this.tabObj.element.querySelector('.e-content').style.display = this.isMinimized ? 'none' : 'block';\n                    if (!this.isMinimized) {\n                        this.refreshLayout();\n                    }\n                    break;\n                case 'locale':\n                    this.updateCommonProperty({ locale: this.locale });\n                    break;\n                case 'enablePersistence':\n                    this.updateCommonProperty({ enablePersistence: this.enablePersistence });\n                    break;\n                case 'enableRtl':\n                    this.element.classList.toggle(constants.RTL_CSS, this.enableRtl);\n                    this.updateCommonProperty({ enableRtl: newProp.enableRtl });\n                    if (this.scrollModule) {\n                        this.scrollModule.setProperties({ enableRtl: newProp.enableRtl });\n                    }\n                    break;\n                case 'launcherIconCss':\n                    for (var i = 0; i < this.tabs.length; i++) {\n                        var tabContent = this.tabObj.items[parseInt(i.toString(), 10)].content;\n                        var tab = this.tabs[parseInt(i.toString(), 10)];\n                        if (tabContent.querySelector('.' + constants.RIBBON_GROUP)) {\n                            for (var _d = 0, _e = tab.groups; _d < _e.length; _d++) {\n                                var group = _e[_d];\n                                if (group.showLauncherIcon) {\n                                    var className = constants.RIBBON_LAUNCHER_ICON_ELE + ' ' + (this.launcherIconCss || constants.RIBBON_LAUNCHER_ICON);\n                                    if (group.isCollapsed) {\n                                        var element = tabContent.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                                        var dropdown = getComponent(element, DropDownButton);\n                                        var launcherIconEle = dropdown.target.querySelector('#' + group.id + constants.LAUNCHER_ID);\n                                        launcherIconEle.className = className;\n                                    }\n                                    else {\n                                        var element = tabContent.querySelector('#' + group.id + constants.LAUNCHER_ID);\n                                        element.className = className;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'selectedTab':\n                    this.tabObj.setProperties({ selectedItem: newProp.selectedTab });\n                    break;\n                case 'tabAnimation':\n                    this.tabObj.setProperties({ animation: newProp.tabAnimation });\n                    break;\n                case 'tabs':\n                    this.reRenderTabs();\n                    break;\n                case 'width':\n                    this.element.style.width = formatUnit(newProp.width);\n                    this.refreshLayout();\n                    break;\n                case 'fileMenu':\n                    if (this.ribbonFileMenuModule) {\n                        this.ribbonFileMenuModule.updateFileMenu(this.fileMenu);\n                    }\n                    var toolbarEle = this.tabObj['tbObj'];\n                    toolbarEle.refreshOverflow();\n                    break;\n                case 'helpPaneTemplate':\n                    if (this.ribbonTempEle) {\n                        remove(this.ribbonTempEle);\n                        this.ribbonTempEle = null;\n                        this.tabObj.element.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, '0px');\n                    }\n                    if (this.helpPaneTemplate) {\n                        this.createHelpPaneTemplate();\n                    }\n                    var toolbar_1 = this.tabObj['tbObj'];\n                    toolbar_1.refreshOverflow();\n                    break;\n            }\n        }\n    };\n    var Ribbon_1;\n    __decorate([\n        Property('Classic')\n    ], Ribbon.prototype, \"activeLayout\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"cssClass\", void 0);\n    __decorate([\n        Complex({}, FileMenuSettings)\n    ], Ribbon.prototype, \"fileMenu\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"launcherIconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Ribbon.prototype, \"isMinimized\", void 0);\n    __decorate([\n        Property('en-us')\n    ], Ribbon.prototype, \"locale\", void 0);\n    __decorate([\n        Property(0)\n    ], Ribbon.prototype, \"selectedTab\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Ribbon.prototype, \"tabAnimation\", void 0);\n    __decorate([\n        Collection([], RibbonTab)\n    ], Ribbon.prototype, \"tabs\", void 0);\n    __decorate([\n        Property('100%')\n    ], Ribbon.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"helpPaneTemplate\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"tabSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"tabSelected\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"ribbonExpanding\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"ribbonCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"launcherIconClick\", void 0);\n    Ribbon = Ribbon_1 = __decorate([\n        NotifyPropertyChanges\n    ], Ribbon);\n    return Ribbon;\n}(Component));\nexport { Ribbon };\n","import { EventHandler, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Menu } from '@syncfusion/ej2-navigations';\nimport { getIndex, isTooltipPresent } from '../base/index';\nimport * as constants from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonFileMenu = /** @class */ (function () {\n    function RibbonFileMenu(parent) {\n        this.parent = parent;\n    }\n    RibbonFileMenu.prototype.getModuleName = function () {\n        return 'ribbonFileMenu';\n    };\n    RibbonFileMenu.prototype.destroy = function () {\n        if (this.fileMenuDDB) {\n            this.destroyDDB();\n        }\n        this.parent = null;\n    };\n    /**\n     * Creates File Menu\n     *\n     * @param {FileMenuSettingsModel} fileMenuOptions - Gets the property of filemenu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.createFileMenu = function (fileMenuOptions) {\n        var _this = this;\n        if (!fileMenuOptions.visible) {\n            return;\n        }\n        this.ddbElement = this.parent.createElement('button', {\n            id: this.parent.element.id + constants.RIBBON_FILE_MENU_ID\n        });\n        var tabEle = this.parent.tabObj.element;\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        tabEle.insertBefore(this.ddbElement, toolbarEle);\n        this.fileMenuDDB = new DropDownButton({\n            content: fileMenuOptions.text,\n            enableRtl: this.parent.enableRtl,\n            cssClass: 'e-ribbon-file-menu e-caret-hide',\n            created: function () {\n                tabEle.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, _this.ddbElement.offsetWidth + 'px');\n            },\n            beforeClose: this.ddbBeforeEvent.bind(this, false),\n            beforeOpen: this.ddbBeforeEvent.bind(this, true),\n            close: this.ddbAfterEvent.bind(this, false),\n            open: this.ddbAfterEvent.bind(this, true)\n        }, this.ddbElement);\n        if (this.parent.fileMenu.popupTemplate) {\n            this.fileMenuDDB.setProperties({ target: this.parent.fileMenu.popupTemplate });\n        }\n        else {\n            this.createRibbonMenu(fileMenuOptions);\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n        this.addFileMenuTooltip(fileMenuOptions);\n    };\n    RibbonFileMenu.prototype.addFileMenuTooltip = function (fileMenuOptions) {\n        if (isTooltipPresent(fileMenuOptions.ribbonTooltipSettings)) {\n            this.ddbElement.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.push({ id: this.ddbElement.id, data: fileMenuOptions.ribbonTooltipSettings });\n        }\n    };\n    RibbonFileMenu.prototype.ddbBeforeEvent = function (isOpen, args) {\n        //args.event is null when dropdown button is closed using a method call\n        if (!isOpen && args.event && args.event.target.closest('.e-ribbon-menu')) {\n            args.cancel = true;\n        }\n        var event = isOpen ? this.parent.fileMenu.beforeOpen :\n            this.parent.fileMenu.beforeClose;\n        if (event) {\n            var eventArgs = { cancel: args.cancel, element: args.element, event: args.event };\n            event.call(this, eventArgs);\n            args.cancel = eventArgs.cancel;\n        }\n    };\n    RibbonFileMenu.prototype.ddbAfterEvent = function (isOpen, args) {\n        var element = isOpen ? this.fileMenuDDB.target : this.fileMenuDDB.element;\n        element.focus();\n        var event = isOpen ? this.parent.fileMenu.open : this.parent.fileMenu.close;\n        if (event) {\n            var eventArgs = { element: args.element };\n            event.call(this, eventArgs);\n        }\n    };\n    //Clone RibbonMenuItems before assigning to avoid reference issues.\n    RibbonFileMenu.prototype.cloneMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            itemsList.push({\n                iconCss: item.iconCss,\n                id: item.id,\n                separator: item.separator,\n                text: item.text,\n                url: item.url,\n                items: this.cloneMenuItem(item.items)\n            });\n        }\n        return itemsList;\n    };\n    RibbonFileMenu.prototype.createRibbonMenu = function (menuOptions) {\n        var _this = this;\n        var ulElem = this.parent.createElement('ul', {\n            id: this.parent.element.id + constants.RIBBON_FILE_MENU_LIST\n        });\n        this.fileMenuDDB.setProperties({ target: ulElem });\n        this.menuctrl = new Menu({\n            orientation: 'Vertical',\n            enableRtl: this.parent.enableRtl,\n            cssClass: 'e-ribbon-menu',\n            animationSettings: menuOptions.animationSettings,\n            items: this.cloneMenuItem(menuOptions.menuItems),\n            showItemOnClick: menuOptions.showItemOnClick,\n            template: menuOptions.itemTemplate,\n            beforeClose: this.menuBeforeEvent.bind(this, false),\n            beforeOpen: this.menuBeforeEvent.bind(this, true),\n            beforeItemRender: this.beforeItemRender.bind(this),\n            onClose: this.menuAfterEvent.bind(this, false),\n            onOpen: this.menuAfterEvent.bind(this, true),\n            select: this.menuSelect.bind(this)\n        }, ulElem);\n        EventHandler.add(ulElem, 'keydown', function (e) {\n            if (e.key === 'Tab') {\n                _this.fileMenuDDB.toggle();\n            }\n        }, this);\n    };\n    RibbonFileMenu.prototype.menuBeforeEvent = function (isOpen, args) {\n        var event = isOpen ? this.parent.fileMenu.beforeOpen :\n            this.parent.fileMenu.beforeClose;\n        if (event) {\n            var eventArgs = {\n                cancel: args.cancel, element: args.element, event: args.event,\n                items: args.items, parentItem: args.parentItem\n            };\n            event.call(this, eventArgs);\n            args.cancel = eventArgs.cancel;\n        }\n    };\n    RibbonFileMenu.prototype.menuAfterEvent = function (isOpen, args) {\n        var event = isOpen ? this.parent.fileMenu.open : this.parent.fileMenu.close;\n        if (event) {\n            var eventArgs = { element: args.element, items: args.items, parentItem: args.parentItem };\n            event.call(this, eventArgs);\n        }\n    };\n    RibbonFileMenu.prototype.beforeItemRender = function (args) {\n        var event = this.parent.fileMenu.beforeItemRender;\n        if (event) {\n            var eventArgs = { element: args.element, item: args.item };\n            event.call(this, eventArgs);\n        }\n    };\n    RibbonFileMenu.prototype.menuSelect = function (args) {\n        var event = this.parent.fileMenu.select;\n        if (event) {\n            var eventArgs = { element: args.element, item: args.item, event: args.event };\n            event.call(this, eventArgs);\n            if (!args.element.classList.contains('e-menu-caret-icon')) {\n                this.fileMenuDDB.toggle();\n            }\n        }\n    };\n    /**\n     * setRtl\n     *\n     * @param {commonProperties} commonProp - Get the common property of ribbon.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.setCommonProperties = function (commonProp) {\n        if (this.fileMenuDDB) {\n            this.fileMenuDDB.setProperties(commonProp);\n            if (this.menuctrl) {\n                this.menuctrl.setProperties(commonProp);\n            }\n        }\n    };\n    /**\n     * Update FileMenu\n     *\n     * @param {FileMenuSettingsModel} fileMenuOptions - Gets the property of filemenu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.updateFileMenu = function (fileMenuOptions) {\n        if (fileMenuOptions.visible) {\n            if (this.fileMenuDDB) {\n                if (fileMenuOptions.text) {\n                    this.fileMenuDDB.setProperties({\n                        content: fileMenuOptions.text\n                    });\n                    this.parent.tabObj.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, this.ddbElement.offsetWidth + 'px');\n                }\n                if (fileMenuOptions.popupTemplate) {\n                    if (this.menuctrl) {\n                        this.destroyMenu();\n                    }\n                    this.fileMenuDDB.setProperties({ target: fileMenuOptions.popupTemplate });\n                }\n                else {\n                    if (this.menuctrl) {\n                        this.menuctrl.setProperties({\n                            animationSettings: fileMenuOptions.animationSettings,\n                            items: this.cloneMenuItem(fileMenuOptions.menuItems),\n                            showItemOnClick: fileMenuOptions.showItemOnClick,\n                            template: fileMenuOptions.itemTemplate\n                        });\n                    }\n                    else {\n                        this.createRibbonMenu(fileMenuOptions);\n                    }\n                }\n                this.removeFileMenuTooltip();\n                this.addFileMenuTooltip(fileMenuOptions);\n            }\n            else {\n                this.createFileMenu(fileMenuOptions);\n            }\n        }\n        else if (this.fileMenuDDB) {\n            this.destroyDDB();\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n    };\n    RibbonFileMenu.prototype.destroyMenu = function () {\n        if (this.menuctrl) {\n            this.menuctrl.destroy();\n            this.menuctrl = null;\n        }\n    };\n    RibbonFileMenu.prototype.destroyDDB = function () {\n        this.removeFileMenuTooltip();\n        var tabEle = this.parent.tabObj.element;\n        tabEle.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.destroyMenu();\n        this.fileMenuDDB.destroy();\n        this.fileMenuDDB = null;\n        remove(this.ddbElement);\n        this.ddbElement = null;\n    };\n    RibbonFileMenu.prototype.removeFileMenuTooltip = function () {\n        var _this = this;\n        var index = getIndex(this.parent.tooltipData, function (e) { return e.id === _this.ddbElement.id; });\n        if (index !== -1) {\n            this.ddbElement.classList.remove(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.splice(index, 1);\n        }\n    };\n    /**\n     * Add items to FileMenu.\n     *\n     * @param {MenuItemModel[]} items - Gets the items to be added.\n     * @param {string} target - Gets the target item to add the items.\n     * @param {boolean} isAfter - Gets the boolean value to add the items after or before the target item.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.addItems = function (items, target, isAfter, isUniqueId) {\n        if (isAfter) {\n            this.menuctrl.insertAfter(items, target, isUniqueId);\n        }\n        else {\n            this.menuctrl.insertBefore(items, target, isUniqueId);\n        }\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Remove items from FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be removed.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.removeItems = function (items, isUniqueId) {\n        this.menuctrl.removeItems(items, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Enable items in FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be enabled.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.enableItems = function (items, isUniqueId) {\n        this.menuctrl.enableItems(items, true, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Disable items in FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be disabled.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.disableItems = function (items, isUniqueId) {\n        this.menuctrl.enableItems(items, false, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Update items in FileMenu.\n     *\n     * @param {MenuItem} item - Gets the item to be updated.\n     * @param {boolean} id - Gets the id of the item to be updated.\n     * @param {boolean} isUniqueId - Gets whether the id provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.setItem = function (item, id, isUniqueId) {\n        this.menuctrl.setItem(item, id, isUniqueId);\n        this.menuctrl.refresh();\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    return RibbonFileMenu;\n}());\nexport { RibbonFileMenu };\n","import * as index from './index';\nindex.Ribbon.Inject(index.RibbonButton, index.RibbonDropDown, index.RibbonSplitButton, index.RibbonCheckBox, index.RibbonColorPicker, index.RibbonComboBox, index.RibbonFileMenu);\nexport * from './index';\n"],"names":["getIndex","arr","condition","i","length","parseInt","toString","getTemplateFunction","template","content","tempEle","select","tagName","innerHTML","outerHTML","e","compile","getItem","tabs","id","tab","j","groups","group","k","collections","collection","l","items","item","tabIndex","groupIndex","collectionIndex","itemIndex","getCollection","getGroup","destroyControl","element","moduleName","getComponent","destroy","updateCommonProperty","commonProp","setProperties","updateControlDisabled","disable","enabled","disabled","getItemElement","parent","itemProp","contentEle","tabObj","activeLayout","RibbonLayout","Classic","displayOptions","DisplayMode","ribbonDropDownModule","getOverflowDropDownPopup","querySelector","ele","Simplified","enableGroupOverflow","constants.GROUPOF_BUTTON_ID","DropDownButton","overflowDDB","target","isTooltipPresent","tooltip","iconCss","title","cssClass","setToolTipContent","args","tooltipData","targetId","getAttribute","data","filter","createElement","constants.RIBBON_TOOLTIP_CONTAINER","append","header","className","constants.RIBBON_TOOLTIP_TITLE","appendChild","textContainer","constants.RIBBON_TEXT_CONTAINER","customCss","constants.RIBBON_TOOLTIP_ICON","tooltipContent","constants.RIBBON_TOOLTIP_CONTENT","createTooltip","ribbon","beforeTooltipRender","ribbonTooltip","Tooltip","constants.RIBBON_TOOLTIP","trim","constants.RIBBON_TOOLTIP_TARGET","beforeRender","bind","this","appendTo","destroyTooltip","updateTooltipProp","prop","ItemOrientation","RibbonItemSize","RibbonItemType","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","RibbonButtonSettings","_super","apply","muteOnChange","call","Property","Event","ChildProperty","RibbonCheckBoxSettings","RibbonColorPickerSettings","RibbonComboBoxSettings","Complex","text","value","groupBy","FieldSettings","RibbonDropDownSettings","Collection","Item","RibbonSplitButtonSettings","RibbonTooltip","RibbonItem","Medium","Small","Large","Auto","RibbonCollection","RibbonGroup","RibbonTab","FileMenuSettings","MenuItem","MenuAnimationSettings","RIBBON_CONTROL","RIBBON_POPUP_CONTROL","HIDE_CSS","RIBBON_ITEM","RIBBON_ROW","RIBBON_TOOLTIP","RIBBON_TOOLTIP_TARGET","RIBBON_TOOLTIP_TITLE","RIBBON_TOOLTIP_CONTENT","RIBBON_TOOLTIP_ICON","RIBBON_TOOLTIP_CONTAINER","RIBBON_TEXT_CONTAINER","GROUPOF_BUTTON_ID","RibbonButton","getModuleName","createButton","itemEle","_this","buttonEle","btnSettings","buttonSettings","Button","locale","enableRtl","enablePersistence","iconPosition","activeSize","ITEM_VERTICAL_CENTER","isPrimary","isToggle","created","onclick","clicked","setAttribute","addOverFlowEvents","overflowButton","type","buttonObj","toggle","removeOverFlowEvents","split","join","click","controlId","updateButton","merge","updateButtonSize","RibbonCheckBox","createCheckBox","inputEle","checkBoxSettings","CheckBox","checked","label","labelPosition","change","checkBoxObj","dataBind","updateCheckBox","RibbonColorPicker","createColorPicker","colorPickerSettings","colorPicker","ColorPicker","columns","enableOpacity","mode","modeSwitcher","noColor","presetColors","showButtons","beforeClose","parentElement","classList","remove","beforeOpen","beforeTileRender","open","add","wrapper","EventHandler","toggleWrapperHover","isAdd","colorPickerEle","colorPickerObj","splitBtn","event","close","closest","getColorPickerObj","getValue","updateColorPicker","unwireColorPickerEvents","RibbonComboBox","createComboBox","comboBoxSettings","ComboBox","allowCustom","floatLabelType","ignoreAccent","ignoreCase","allowFiltering","autofill","dataSource","fields","filterType","footerTemplate","groupTemplate","headerTemplate","index","itemTemplate","noRecordsTemplate","placeholder","popupHeight","popupWidth","showClearButton","sortOrder","width","filtering","comboBoxObj","getComboBoxObj","query","hidePopup","showPopup","updateComboBox","RibbonDropDown","createDropDown","dropDownSettings","closeActionEvents","beforeItemRender","dropdownElement","dropdown","createOverFlowDropDown","name","groupEle","overflowEle","VERTICAL_DDB","cancel","isNullOrUndefined","onkeydown","keyActionHandler","comboBoxEle","querySelectorAll","comboBoxElements","contains","shiftKey","handleNavigation","updateItemIndex","focusLauncherIcon","launcherIconEle","groupContainer","preventDefault","focus","ribbonItem","removeOverFlowDropDown","insertBefore","getDDBItemElement","dropDown","getDropDownObj","dropDownEle","addItems","Items","removeItems","isUniqueId","updateDropDown","btnEle","control","updateDropDownSize","push","RibbonSplitButton","createSplitButton","splitButtonSettings","splitbutton","SplitButton","dropdownEle","stopImmediatePropagation","setContent","splitButtonEle","ddbId","popupEle","document","getSplitButtonObj","updateSplitButton","updateSplitButtonSize","Ribbon","options","Ribbon_1","Inject","render","initialize","preRender","idIndex","isAddRemove","keyConfigs","leftarrow","rightarrow","shiftTab","getPersistData","addOnPersist","requiredModules","modules","member","getUniqueID","addClass","concat","style","formatUnit","renderTabs","ribbonFileMenuModule","createFileMenu","fileMenu","createHelpPaneTemplate","refreshOverflow","wireEvents","wireKeyboardEvent","currentControlIndex","window","resizeHandler","keyboardModuleRibbon","KeyboardEvents","keyAction","eventName","activeContent","selectedTab","ribbonControls","action","prevGroupId","prevGroupContainer","checkOverflow","scrollModule","scrollEle","scrollStep","offsetWidth","tabsInternal","slice","checkID","tabEle","validateItemSize","tabItems","createTabItems","Tab","selectedItem","overflowMode","tabCreated","selected","ribbonTabSelected","selecting","ribbonTabSelecting","setProperty","toolbarEle","Toolbar","isMinimized","minimize","val","eventArgs","trigger","display","refreshLayout","toggleLayout","switchLayout","addExpandCollapse","renderInitialTab","selectedTabId","selectedIndex","previousIndex","selectedContent","firstChild","overflowTarget","ofTabContainer","activeTab","constants.HIDE_CSS","tabContent","isOverFlow","isBreak","checkGroupShrinking","createOverflowDropdown","checkSimplifiedItemShrinking","createSimplfiedOverflow","HScroll","destroyScroll","removeOverflowDropdown","checkGroupExpanding","removeSimplfiedOverflow","checkSimplifiedItemExpanding","allowedSizes","itemContainer","setItemSize","valString","removeAttribute","orderedGroups","getGroupResizeOrder","collectionEle","Overflow","createOverflowPopup","DropDown","updatePopupItems","constants.RIBBON_ITEM","isGroupOF","isMenu","dropDownPopup","isLeft","position","X","Y","offsetX","removeProperty","isClear","flag","overflowtarget","overflowDDBEle","getInstance","groupEle_1","removeOverflowEvent","childElementCount","removeOverflowButton","ofGroupContainer","groupId","groupHeader","addOverflowButton","createGroupContainer","createOfTabContainer","collapseButton","addOverflowEvents","ribbonButtonModule","ribbonSplitButtonModule","ribbonCheckBoxModule","ribbonColorPickerModule","ribbonComboBoxModule","isLarge","checkLargeToMedium","checkMediumToSmall","checkValidCollectionLength","count","ind","checkClassicCollection","n","isIncrement","checkClassicItem","shouldSkip","isCollapsed","canReduceCollection","canReduceItem","createShrinkEle","firstItem","start","end","shrinkEle","constants.RIBBON_ROW","attrs","data-start","data-end","moveItemToColumn","moveCollectionToColumn","orientation","Column","m","shrinkColumns","reduceItemsToSmall","middle","reduce","ele_1","reduceCollectionsToSmall","ele_2","setWidth","classicItems","shrinkColumn","isSmall","checkSmallToMedium","checkMediumToLarge","shouldClear","expandItemToMedium","parentEle","ele_4","expandCollectionsToMedium","ele_5","Row","expandItemsToLarge","container","ele_6","insertAdjacentElement","expandCollectionsToLarge","ele_7","Template","createTemplateContent","collapseOrder","this_1","groupOverFlow","constants.RIBBON_GROUP_OVERFLOW","groupIconCss","expandOrder","this_2","state_1","removeDropdown","isCollapse","isUndefined","isCollapsible","sort","a","priority","reverse","clearOverflowDropDown","nextTabId","selectingItem","previousTabId","previousItem","nextIndex","isInteracted","selectedTabContent","elements","createGroups","ribbonTab","ondblclick","btnId","tabindex","constants.DROPDOWNBUTTON_HIDE","constants.RIBBON_POPUP_CONTROL","isGroupOf","upDownKeyHandler","getElementsByClassName","findDisabledItem","currentItemIndex","itemType","checkBoxEle","checkBox","isIncrease","ofGroupHeader","constants.RIBBON_COLLAPSE_BUTTON","aria-label","role","removeExpandCollapse","splice","reRenderTabs","destroyTabItems","groupList","i_1","alignType","i_2","groupContent","replace","groupCollection","itemList","itemEle_1","destroyFunction","size","createItems","i_3","ele_8","itemsize","createLauncherIcon","launcherIcon","constants.RIBBON_LAUNCHER_ICON_ELE","launcherIconCss","launcherIconClicked","groupElements","showLauncherIcon","createCollection","collectionList","ribbonitem","sizeVal","collectionElements","createRibbonItem","_a","itemElements","ribbonTooltipSettings","helpPaneTemplate","clearTemplate","ribbonTempEle","templateFunction","isStringTemplate","after","renderReactTemplates","itemElement","constants.RIBBON_TEMPLATE","renderItemTemplate","templateName","list","initId","listitem","setCommonProperties","_i","_b","_c","_d","_e","getItemModuleName","removeLauncherIcon","containerId","containerEle","clearOverflowResize","selectTab","tabId","addTab","isAfter","tabItem","removeTab","groups_1","addGroup","ribbonGroups","targetEle","removeGroup","removeItemElement","addCollection","ribbonCollections","collection_1","removeCollection","collectionId","ribbonGroup","addItem","ribbonItems","item_1","removeItem","itemId","ribbonCollection","updateTab","groups_2","forEach","innerText","updateGroup","removeCss","match","removeClass","ribbongroup","overflowHeader","updateCollection","ribboncollection","updateItem","enableDisableItem","enableItem","disableItem","isDisabled","toggleAttribute","unwireEvents","undefined","onPropertyChanged","newProp","oldProp","keys","animation","tabAnimation","updateFileMenu","TabAnimationSettings","NotifyPropertyChanges","Component","RibbonFileMenu","fileMenuDDB","destroyDDB","fileMenuOptions","visible","ddbElement","ddbBeforeEvent","ddbAfterEvent","popupTemplate","createRibbonMenu","refreshActiveTabBorder","addFileMenuTooltip","isOpen","cloneMenuItem","itemsList","separator","url","menuOptions","ulElem","menuctrl","Menu","animationSettings","menuItems","showItemOnClick","menuBeforeEvent","onClose","menuAfterEvent","onOpen","menuSelect","parentItem","destroyMenu","removeFileMenuTooltip","insertAfter","enableItems","disableItems","setItem","refresh","index.Ribbon","index.RibbonButton","index.RibbonDropDown","index.RibbonSplitButton","index.RibbonCheckBox","index.RibbonColorPicker","index.RibbonComboBox","index.RibbonFileMenu"],"mappings":"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"}